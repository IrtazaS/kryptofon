<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>VoIP Kryptofon: crypto.AsymmetricCipher Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.2 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="namespacecrypto.html">crypto</a>      </li>
      <li><a class="el" href="classcrypto_1_1_asymmetric_cipher.html">AsymmetricCipher</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a>  </div>
  <div class="headertitle">
<h1>crypto.AsymmetricCipher Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="crypto::AsymmetricCipher" -->
<p>Implements asymmetric cipher with public and private keys used to retrieve secret key (used for symmetric ciphering of peer-to-peer datagram packets) from remote peer.  
<a href="#_details">More...</a></p>
<!-- startSectionHeader --><div class="dynheader">
Collaboration diagram for crypto.AsymmetricCipher:<!-- endSectionHeader --></div>
<!-- startSectionSummary --><!-- endSectionSummary --><!-- startSectionContent --><div class="dyncontent">
<div class="center"><img src="classcrypto_1_1_asymmetric_cipher__coll__graph.png" border="0" usemap="#crypto_8_asymmetric_cipher_coll__map" alt="Collaboration graph"/></div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center><!-- endSectionContent --></div>

<p><a href="classcrypto_1_1_asymmetric_cipher-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrypto_1_1_asymmetric_cipher.html#a084c666a38dcd44716147bed134ab974">AsymmetricCipher</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates a pair of keys and serializes public key as Base64 string.  <a href="#a084c666a38dcd44716147bed134ab974"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrypto_1_1_asymmetric_cipher.html#a98b697e96744cbe09ce2d8b202af806d">isActive</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns if cipher is properly initialized.  <a href="#a98b697e96744cbe09ce2d8b202af806d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrypto_1_1_asymmetric_cipher.html#a74de46a982c40eded466eeca03702ed9">getSerializedAndSignedPublicKey</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns serialized public key used for encryption of datagrams as Base64 string.  <a href="#a74de46a982c40eded466eeca03702ed9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrypto_1_1_asymmetric_cipher.html#ae50f272cd2816ec6a1cc7c14bebc7e79">exportPublicKey</a> (String fileName)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Save public key into file.  <a href="#ae50f272cd2816ec6a1cc7c14bebc7e79"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrypto_1_1_asymmetric_cipher.html#a0d77f5c1de194469948432690799c369">getNamedPublicKey</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns serializable named publicKey (with comment) encoded as Base64.  <a href="#a0d77f5c1de194469948432690799c369"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">byte[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrypto_1_1_asymmetric_cipher.html#ab131ee6818da2f399483ab7b5ae7aadc">decrypt</a> (byte[] cipherText)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Decrypts cipher text using the private key.  <a href="#ab131ee6818da2f399483ab7b5ae7aadc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">SignedObject&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrypto_1_1_asymmetric_cipher.html#a61111a394ec95937be6669a92231e077">signObject</a> (Serializable object)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Signs object using private key.  <a href="#a61111a394ec95937be6669a92231e077"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcrypto_1_1_symmetric_cipher.html">SymmetricCipher</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrypto_1_1_asymmetric_cipher.html#ae146a48971d8f511dc2a56a13e8b6467">deserializeEncryptedSecretKey</a> (String serializedSecretKey)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Reconstructs secret key from Base64 respresentation of encrypted (using our public key) serialized secret key.  <a href="#ae146a48971d8f511dc2a56a13e8b6467"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrypto_1_1_asymmetric_cipher.html#a6ac88d0d8bba5a4e474e8066fa9fa6ba">saveObject</a> (Serializable object, String fileName, String comment)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves serializable object encoded in Base64 to file.  <a href="#a6ac88d0d8bba5a4e474e8066fa9fa6ba"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static Object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrypto_1_1_asymmetric_cipher.html#a3ab0179f2c86b724fd358b699f457f82">loadObject</a> (String fileName)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads serializable object encoded in Base64 from file.  <a href="#a3ab0179f2c86b724fd358b699f457f82"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrypto_1_1_asymmetric_cipher.html#ad29ec043b404ed1217f91d0c37cb7656">destruct</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructs object (makes it inactive)  <a href="#ad29ec043b404ed1217f91d0c37cb7656"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrypto_1_1_asymmetric_cipher.html#a97fc10cc37d4a56899ab26fdf1e01361">loadSavedKeyPair</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Load saved key pair.  <a href="#a97fc10cc37d4a56899ab26fdf1e01361"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrypto_1_1_asymmetric_cipher.html#a08d9530c8b897fa70492011f92794c32">saveKeyPair</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves private/public key pair with description (this.keyPairComment)  <a href="#a08d9530c8b897fa70492011f92794c32"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrypto_1_1_asymmetric_cipher.html#a722977af9f7eec088762c8ed2af3ce36">generateKeyPair</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates a key pair.  <a href="#a722977af9f7eec088762c8ed2af3ce36"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrypto_1_1_asymmetric_cipher.html#aea90920a16d88026264f80eefdb522e8">instantiateCipher</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Instantiates a cipher.  <a href="#aea90920a16d88026264f80eefdb522e8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrypto_1_1_asymmetric_cipher.html#a9b51c8f90c0a9198bf1185e41f0af95b">serializePublicKey</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Serializes the public key, signs it and encodes in Base64 format.  <a href="#a9b51c8f90c0a9198bf1185e41f0af95b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrypto_1_1_asymmetric_cipher.html#a8b688fb593f384b58c1232ca40af8bc5">sanityCheck</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sanity check whether <a class="el" href="classcrypto_1_1_public_encryptor.html" title="Implements public part of the asymmetric cipher (with public key) used to send encrypted local secret...">PublicEncryptor</a> works with PrivateEncryption.  <a href="#a8b688fb593f384b58c1232ca40af8bc5"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PrivateKey&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrypto_1_1_asymmetric_cipher.html#a50880f09dfb935a74ee953f0067f17ee">privateKey</a> = null</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Private key used for deciphering and signing messages.  <a href="#a50880f09dfb935a74ee953f0067f17ee"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PublicKey&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrypto_1_1_asymmetric_cipher.html#a58c62ba94be1a9787027adf36703ee37">publicKey</a> = null</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Public key corresponding to our private key.  <a href="#a58c62ba94be1a9787027adf36703ee37"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrypto_1_1_asymmetric_cipher.html#a75e830005516d3970c17b43fb43630e3">keyPairComment</a> = null</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The comment (description) of the key pair.  <a href="#a75e830005516d3970c17b43fb43630e3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Cipher&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrypto_1_1_asymmetric_cipher.html#a6ac536ea7d1f2ef7662a2c9a4fcd66ff">cipher</a> = null</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Instance of the decrypting engine based on our private key.  <a href="#a6ac536ea7d1f2ef7662a2c9a4fcd66ff"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrypto_1_1_asymmetric_cipher.html#a34be090be49fe6805ba6b1b8d9d439d0">serializedPublicKey</a> = null</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Our public key: serialized and encoded as Base64 string.  <a href="#a34be090be49fe6805ba6b1b8d9d439d0"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static final String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrypto_1_1_asymmetric_cipher.html#ad0c11852dcf49b1b01f4807e0a55fa31">algorithm</a> = &quot;RSA&quot;</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Asymmetric cipher algorithm.  <a href="#ad0c11852dcf49b1b01f4807e0a55fa31"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static final int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrypto_1_1_asymmetric_cipher.html#af43af19dcd997b41db3a04f3cad8708f">keySize</a> = 1024</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Default key size for algorithm.  <a href="#af43af19dcd997b41db3a04f3cad8708f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static final String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrypto_1_1_asymmetric_cipher.html#a361726f985da9120cf81235b770a550d">padding</a> = &quot;/ECB/PKCS1PADDING&quot;</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Padding to be used when ciphering/deciphering.  <a href="#a361726f985da9120cf81235b770a550d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static final String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrypto_1_1_asymmetric_cipher.html#a1967b86b912ed31edcb484776090b639">digest</a> = &quot;SHA1&quot;</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Message digest used for creating/validating signatures.  <a href="#a1967b86b912ed31edcb484776090b639"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static final String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrypto_1_1_asymmetric_cipher.html#abcb2b1f0d0fc6981b49b50d7faa4ef80">privateKeyFile</a> = &quot;mykf-private-key.txt&quot;</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The name of the file holding saved private key.  <a href="#abcb2b1f0d0fc6981b49b50d7faa4ef80"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static final String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrypto_1_1_asymmetric_cipher.html#aa02d02ea23fd8c0dce971b439bad59d5">publicKeyFile</a> = &quot;mykf-public-key.txt&quot;</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The name of the file holding saved public key.  <a href="#aa02d02ea23fd8c0dce971b439bad59d5"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Implements asymmetric cipher with public and private keys used to retrieve secret key (used for symmetric ciphering of peer-to-peer datagram packets) from remote peer. </p>
<p>Remote peer sends its secret key encrypted with our public key.</p>
<p>Transmission of the SecretKey can be schematically shown: </p>
<pre>
  Send secret key:
  secretKey &gt;&gt; serialize &gt;&gt; encrypt (with PubKey) &gt;&gt; encode to Base64 &gt;&gt; transmit</pre><pre>  Reconstruct secret key:
  receive &gt;&gt; decode from Base64 &gt;&gt; decrypt (with PrivKey) &gt;&gt; deserialize &gt;&gt; secretKey
  </pre><dl class="author"><dt><b>Author:</b></dt><dd>Mikica B Kocic </dd></dl>

<p>Definition at line <a class="el" href="_asymmetric_cipher_8java_source.html#l00050">50</a> of file <a class="el" href="_asymmetric_cipher_8java_source.html">AsymmetricCipher.java</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a084c666a38dcd44716147bed134ab974"></a><!-- doxytag: member="crypto::AsymmetricCipher::AsymmetricCipher" ref="a084c666a38dcd44716147bed134ab974" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">crypto.AsymmetricCipher.AsymmetricCipher </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Generates a pair of keys and serializes public key as Base64 string. </p>

<p>Definition at line <a class="el" href="_asymmetric_cipher_8java_source.html#l00112">112</a> of file <a class="el" href="_asymmetric_cipher_8java_source.html">AsymmetricCipher.java</a>.</p>

<p>References <a class="el" href="_asymmetric_cipher_8java_source.html#l00164">crypto.AsymmetricCipher.destruct()</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00358">crypto.AsymmetricCipher.exportPublicKey()</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00239">crypto.AsymmetricCipher.generateKeyPair()</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00280">crypto.AsymmetricCipher.instantiateCipher()</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00338">crypto.AsymmetricCipher.isActive()</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00175">crypto.AsymmetricCipher.loadSavedKeyPair()</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00472">crypto.AsymmetricCipher.sanityCheck()</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00202">crypto.AsymmetricCipher.saveKeyPair()</a>, and <a class="el" href="_asymmetric_cipher_8java_source.html#l00314">crypto.AsymmetricCipher.serializePublicKey()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        <span class="keywordtype">boolean</span> loadedKeys = <a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a97fc10cc37d4a56899ab26fdf1e01361" title="Load saved key pair.">loadSavedKeyPair</a> ();
        <span class="keywordtype">boolean</span> sanity = <span class="keyword">false</span>;
        
        <span class="keywordflow">while</span>( <span class="keyword">true</span> )
        {
            <span class="keywordflow">if</span> ( ! loadedKeys  ) {
                <a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a722977af9f7eec088762c8ed2af3ce36" title="Generates a key pair.">generateKeyPair</a> ();
            }
    
            <a class="code" href="classcrypto_1_1_asymmetric_cipher.html#aea90920a16d88026264f80eefdb522e8" title="Instantiates a cipher.">instantiateCipher</a> ();
            
            <a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a9b51c8f90c0a9198bf1185e41f0af95b" title="Serializes the public key, signs it and encodes in Base64 format.">serializePublicKey</a> ();
            
            <span class="keywordflow">if</span> ( ! <a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a98b697e96744cbe09ce2d8b202af806d" title="Returns if cipher is properly initialized.">isActive</a> () ) {
                <a class="code" href="classcrypto_1_1_asymmetric_cipher.html#ad29ec043b404ed1217f91d0c37cb7656" title="Destructs object (makes it inactive)">destruct</a> (); <span class="comment">// make sure everyting is clean</span>
                <span class="keywordflow">if</span> ( loadedKeys ) {
                    <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.warn( <span class="stringliteral">&quot;Load key pair inactive; Generating new key pair...&quot;</span> );
                    <span class="keywordflow">continue</span>;
                } <span class="keywordflow">else</span> {
                    <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.error( <span class="stringliteral">&quot;AsymmetricCipher: Generated key pair inactive.&quot;</span> );
                    <span class="keywordflow">return</span>;
                }
            }
    
            sanity = <a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a8b688fb593f384b58c1232ca40af8bc5" title="Sanity check whether PublicEncryptor works with PrivateEncryption.">sanityCheck</a> ();
            <span class="keywordflow">if</span> ( sanity ) {
                <span class="keywordflow">break</span>; <span class="comment">// everything is ok</span>
            }
            
            <span class="keywordflow">if</span> ( loadedKeys )  {
                <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.warn( <span class="stringliteral">&quot;Sanity check failed on loaded key pair: Retrying...&quot;</span> );
                loadedKeys = <span class="keyword">false</span>;
            } <span class="keywordflow">else</span> {
                <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.error( <span class="stringliteral">&quot;AsymmetricCipher: Sanity check failed on generated key pair.&quot;</span> );
                <a class="code" href="classcrypto_1_1_asymmetric_cipher.html#ad29ec043b404ed1217f91d0c37cb7656" title="Destructs object (makes it inactive)">destruct</a> ();
                <span class="keywordflow">return</span>;
            }
        }

        <span class="comment">/* Save the key pair (if the key pair is generated i.e. not loaded)</span>
<span class="comment">         */</span>
        <span class="keywordflow">if</span> ( <a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a98b697e96744cbe09ce2d8b202af806d" title="Returns if cipher is properly initialized.">isActive</a> () &amp;&amp; sanity &amp;&amp; ! loadedKeys ) {
            <a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a08d9530c8b897fa70492011f92794c32" title="Saves private/public key pair with description (this.keyPairComment)">saveKeyPair</a> ();
            <a class="code" href="classcrypto_1_1_asymmetric_cipher.html#ae50f272cd2816ec6a1cc7c14bebc7e79" title="Save public key into file.">exportPublicKey</a>( null );
        }
    }
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ab131ee6818da2f399483ab7b5ae7aadc"></a><!-- doxytag: member="crypto::AsymmetricCipher::decrypt" ref="ab131ee6818da2f399483ab7b5ae7aadc" args="(byte[] cipherText)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">byte [] crypto.AsymmetricCipher.decrypt </td>
          <td>(</td>
          <td class="paramtype">byte[]&#160;</td>
          <td class="paramname"> <em>cipherText</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Decrypts cipher text using the private key. </p>
<p>Emulates CBC (cipher-block chaining) using plain ECB. Why? -- Because JCE does not support RSA/CBC cipher (only RSA/ECB).</p>
<p>See <a href="http://en.wikipedia.org/wiki/Block_cipher_modes_of_operation#Cipher-block_chaining_.28CBC.29" target="_new">Cipher-block chaining (CBC)</a> </p>
<div align="center">
<img src="cbc_decryption.png" alt="cbc_decryption.png"/>
</div>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classcrypto_1_1_public_encryptor.html#a8e28776ed04b044082b2c8449ac6e15b" title="Encrypts plain text using public key.">PublicEncryptor.encrypt</a> </dd></dl>

<p>Definition at line <a class="el" href="_asymmetric_cipher_8java_source.html#l00512">512</a> of file <a class="el" href="_asymmetric_cipher_8java_source.html">AsymmetricCipher.java</a>.</p>

<p>References <a class="el" href="_asymmetric_cipher_8java_source.html#l00102">crypto.AsymmetricCipher.cipher</a>, and <a class="el" href="_asymmetric_cipher_8java_source.html#l00087">crypto.AsymmetricCipher.privateKey</a>.</p>

<p>Referenced by <a class="el" href="_asymmetric_cipher_8java_source.html#l00598">crypto.AsymmetricCipher.deserializeEncryptedSecretKey()</a>, and <a class="el" href="_asymmetric_cipher_8java_source.html#l00472">crypto.AsymmetricCipher.sanityCheck()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">if</span> ( this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a6ac536ea7d1f2ef7662a2c9a4fcd66ff" title="Instance of the decrypting engine based on our private key.">cipher</a> == null )  {
            <span class="keywordflow">return</span> null;
        }
        
        byte[] output = null;
        
        <span class="keyword">synchronized</span>( this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a6ac536ea7d1f2ef7662a2c9a4fcd66ff" title="Instance of the decrypting engine based on our private key.">cipher</a> )
        {
            <span class="keywordflow">try</span> 
            {
                this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a6ac536ea7d1f2ef7662a2c9a4fcd66ff" title="Instance of the decrypting engine based on our private key.">cipher</a>.init( Cipher.DECRYPT_MODE, <a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a50880f09dfb935a74ee953f0067f17ee" title="Private key used for deciphering and signing messages.">privateKey</a> );

                <span class="keywordtype">int</span> blockSize = <a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a6ac536ea7d1f2ef7662a2c9a4fcd66ff" title="Instance of the decrypting engine based on our private key.">cipher</a>.getOutputSize( 1 );
                
                byte[] xorBlock = <span class="keyword">new</span> byte[ blockSize ];
                
                ByteArrayOutputStream bOut = <span class="keyword">new</span> ByteArrayOutputStream ();

                <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> pos = 0; pos &lt; cipherText.length; pos += blockSize ) 
                {
                    <span class="keywordtype">int</span> len = Math.min( cipherText.length - pos, blockSize );
                    
                    byte[] plainBlock = this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a6ac536ea7d1f2ef7662a2c9a4fcd66ff" title="Instance of the decrypting engine based on our private key.">cipher</a>.doFinal( cipherText, pos, len );
                    
                    <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0; i &lt; plainBlock.length; ++i ) {
                        plainBlock[i] = (byte)( plainBlock[i] ^ xorBlock[i] );
                    }
                    
                    bOut.write( plainBlock );

                    System.arraycopy( cipherText, pos, xorBlock, 0, blockSize );
                }
                
                output = bOut.toByteArray ();
            }
            <span class="keywordflow">catch</span>( Exception e )
            {
                <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.exception( <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.ERROR, e );
            }
        }

        <span class="keywordflow">return</span> output;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="ae146a48971d8f511dc2a56a13e8b6467"></a><!-- doxytag: member="crypto::AsymmetricCipher::deserializeEncryptedSecretKey" ref="ae146a48971d8f511dc2a56a13e8b6467" args="(String serializedSecretKey)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcrypto_1_1_symmetric_cipher.html">SymmetricCipher</a> crypto.AsymmetricCipher.deserializeEncryptedSecretKey </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"> <em>serializedSecretKey</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reconstructs secret key from Base64 respresentation of encrypted (using our public key) serialized secret key. </p>

<p>Definition at line <a class="el" href="_asymmetric_cipher_8java_source.html#l00598">598</a> of file <a class="el" href="_asymmetric_cipher_8java_source.html">AsymmetricCipher.java</a>.</p>

<p>References <a class="el" href="_asymmetric_cipher_8java_source.html#l00512">crypto.AsymmetricCipher.decrypt()</a>, and <a class="el" href="_public_encryptor_8java_source.html#l00275">crypto.PublicEncryptor.verifyObject()</a>.</p>

<p>Referenced by <a class="el" href="_cipher_engine_8java_source.html#l00112">crypto.CipherEngine.deserializeEncryptedSecretKey()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        SymmetricCipher result = null;
        
        ByteArrayInputStream bIn = null; 
        ObjectInputStream oIn = null;
        
        <span class="keywordflow">try</span>
        {
            byte[] cipherText = Base64.decode( serializedSecretKey );
            byte[] plainText = <a class="code" href="classcrypto_1_1_asymmetric_cipher.html#ab131ee6818da2f399483ab7b5ae7aadc" title="Decrypts cipher text using the private key.">decrypt</a>( cipherText );
            
            bIn = <span class="keyword">new</span> ByteArrayInputStream( plainText );
            
            oIn = <span class="keyword">new</span> ObjectInputStream( bIn );
            
            Object <span class="keywordtype">object</span> = oIn.readObject ();
            
            oIn.close ();
            bIn.close ();

            String verificator = null;
            SignedObject signedObject = null;

            <span class="keywordflow">if</span> ( <span class="keywordtype">object</span> instanceof SignedObject ) 
            {
                signedObject = (SignedObject) <span class="keywordtype">object</span>;
                verificator = PublicEncryptor.verifyObject( signedObject );
                <span class="keywordtype">object</span> = signedObject.getObject ();
            }
            
            <span class="keywordflow">if</span> ( <span class="keywordtype">object</span> instanceof SecretKey ) 
            {
                result = <span class="keyword">new</span> SymmetricCipher( (SecretKey)<span class="keywordtype">object</span>, verificator );
            }
            <span class="keywordflow">else</span> 
            {
                <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.error( <span class="stringliteral">&quot;Invalid object when trying to deserialize encrypted secret key&quot;</span> );
            }
        }
        <span class="keywordflow">catch</span>( Exception e ) 
        {
            <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.exception( <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.ERROR, e );
        }
        
        <span class="keywordflow">return</span> result;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="ad29ec043b404ed1217f91d0c37cb7656"></a><!-- doxytag: member="crypto::AsymmetricCipher::destruct" ref="ad29ec043b404ed1217f91d0c37cb7656" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void crypto.AsymmetricCipher.destruct </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Destructs object (makes it inactive) </p>

<p>Definition at line <a class="el" href="_asymmetric_cipher_8java_source.html#l00164">164</a> of file <a class="el" href="_asymmetric_cipher_8java_source.html">AsymmetricCipher.java</a>.</p>

<p>References <a class="el" href="_asymmetric_cipher_8java_source.html#l00102">crypto.AsymmetricCipher.cipher</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00087">crypto.AsymmetricCipher.privateKey</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00092">crypto.AsymmetricCipher.publicKey</a>, and <a class="el" href="_asymmetric_cipher_8java_source.html#l00107">crypto.AsymmetricCipher.serializedPublicKey</a>.</p>

<p>Referenced by <a class="el" href="_asymmetric_cipher_8java_source.html#l00112">crypto.AsymmetricCipher.AsymmetricCipher()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a50880f09dfb935a74ee953f0067f17ee" title="Private key used for deciphering and signing messages.">privateKey</a> = null;
        this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a58c62ba94be1a9787027adf36703ee37" title="Public key corresponding to our private key.">publicKey</a> = null;
        this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a6ac536ea7d1f2ef7662a2c9a4fcd66ff" title="Instance of the decrypting engine based on our private key.">cipher</a> = null;
        this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a34be090be49fe6805ba6b1b8d9d439d0" title="Our public key: serialized and encoded as Base64 string.">serializedPublicKey</a> = null;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="ae50f272cd2816ec6a1cc7c14bebc7e79"></a><!-- doxytag: member="crypto::AsymmetricCipher::exportPublicKey" ref="ae50f272cd2816ec6a1cc7c14bebc7e79" args="(String fileName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void crypto.AsymmetricCipher.exportPublicKey </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"> <em>fileName</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Save public key into file. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">fileName</td><td>file where to save public key; if null, it will be the default: AssymmetricCipher.publicKeyFile </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_asymmetric_cipher_8java_source.html#l00358">358</a> of file <a class="el" href="_asymmetric_cipher_8java_source.html">AsymmetricCipher.java</a>.</p>

<p>References <a class="el" href="_cipher_engine_8java_source.html#l00057">crypto.CipherEngine.getPrivateKeyDirectory()</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00338">crypto.AsymmetricCipher.isActive()</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00097">crypto.AsymmetricCipher.keyPairComment</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00092">crypto.AsymmetricCipher.publicKey</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00082">crypto.AsymmetricCipher.publicKeyFile</a>, and <a class="el" href="_asymmetric_cipher_8java_source.html#l00404">crypto.AsymmetricCipher.saveObject()</a>.</p>

<p>Referenced by <a class="el" href="_asymmetric_cipher_8java_source.html#l00112">crypto.AsymmetricCipher.AsymmetricCipher()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">if</span> ( ! <a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a98b697e96744cbe09ce2d8b202af806d" title="Returns if cipher is properly initialized.">isActive</a> () ) {
            <span class="keywordflow">return</span>;
        }

        <span class="keywordflow">if</span> ( fileName == null ) {
            fileName = CipherEngine.getPrivateKeyDirectory()
                     + <a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a084c666a38dcd44716147bed134ab974" title="Generates a pair of keys and serializes public key as Base64 string.">AsymmetricCipher</a>.publicKeyFile;
        }

        <span class="keywordflow">if</span> ( <a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a6ac88d0d8bba5a4e474e8066fa9fa6ba" title="Saves serializable object encoded in Base64 to file.">saveObject</a>( 
                <span class="keyword">new</span> NamedPublicKey( this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a58c62ba94be1a9787027adf36703ee37" title="Public key corresponding to our private key.">publicKey</a>, this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a75e830005516d3970c17b43fb43630e3" title="The comment (description) of the key pair.">keyPairComment</a> ), 
                fileName,
                <span class="stringliteral">&quot;  &quot;</span> + this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a75e830005516d3970c17b43fb43630e3" title="The comment (description) of the key pair.">keyPairComment</a> + <span class="stringliteral">&quot;\n&quot;</span> ) )
        {
            <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.attn( <span class="stringliteral">&quot;Public key exported to &#39;&quot;</span> + fileName + <span class="stringliteral">&quot;&#39;&quot;</span> );
        }
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a722977af9f7eec088762c8ed2af3ce36"></a><!-- doxytag: member="crypto::AsymmetricCipher::generateKeyPair" ref="a722977af9f7eec088762c8ed2af3ce36" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void crypto.AsymmetricCipher.generateKeyPair </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Generates a key pair. </p>

<p>Definition at line <a class="el" href="_asymmetric_cipher_8java_source.html#l00239">239</a> of file <a class="el" href="_asymmetric_cipher_8java_source.html">AsymmetricCipher.java</a>.</p>

<p>References <a class="el" href="_asymmetric_cipher_8java_source.html#l00055">crypto.AsymmetricCipher.algorithm</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00097">crypto.AsymmetricCipher.keyPairComment</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00060">crypto.AsymmetricCipher.keySize</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00087">crypto.AsymmetricCipher.privateKey</a>, and <a class="el" href="_asymmetric_cipher_8java_source.html#l00092">crypto.AsymmetricCipher.publicKey</a>.</p>

<p>Referenced by <a class="el" href="_asymmetric_cipher_8java_source.html#l00112">crypto.AsymmetricCipher.AsymmetricCipher()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a50880f09dfb935a74ee953f0067f17ee" title="Private key used for deciphering and signing messages.">privateKey</a> = null;
        this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a58c62ba94be1a9787027adf36703ee37" title="Public key corresponding to our private key.">publicKey</a> = null;
        this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a75e830005516d3970c17b43fb43630e3" title="The comment (description) of the key pair.">keyPairComment</a> = null;
        
        <span class="keywordflow">try</span>
        {
            KeyPairGenerator keyGen = KeyPairGenerator.getInstance( <a class="code" href="classcrypto_1_1_asymmetric_cipher.html#ad0c11852dcf49b1b01f4807e0a55fa31" title="Asymmetric cipher algorithm.">algorithm</a> );
            keyGen.initialize( <a class="code" href="classcrypto_1_1_asymmetric_cipher.html#af43af19dcd997b41db3a04f3cad8708f" title="Default key size for algorithm.">keySize</a> );
            
            KeyPair keyPair = keyGen.generateKeyPair ();
            this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a50880f09dfb935a74ee953f0067f17ee" title="Private key used for deciphering and signing messages.">privateKey</a> = keyPair.getPrivate ();
            this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a58c62ba94be1a9787027adf36703ee37" title="Public key corresponding to our private key.">publicKey</a>  = keyPair.getPublic ();
            
            <span class="comment">/* Default comment is name of the cipher plus time-stamp </span>
<span class="comment">             */</span>
            Calendar cal = Calendar.getInstance ();
            SimpleDateFormat sdf = <span class="keyword">new</span> SimpleDateFormat( <span class="stringliteral">&quot;yyyy-MM-dd-HHmmssSSS&quot;</span> );
            this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a75e830005516d3970c17b43fb43630e3" title="The comment (description) of the key pair.">keyPairComment</a> = <a class="code" href="classcrypto_1_1_asymmetric_cipher.html#ad0c11852dcf49b1b01f4807e0a55fa31" title="Asymmetric cipher algorithm.">algorithm</a>.toLowerCase () + <span class="stringliteral">&quot;-key-&quot;</span> 
                                + sdf.format( cal.getTime() ); 

            <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.attn( <span class="stringliteral">&quot;Generated a new &quot;</span> + <a class="code" href="classcrypto_1_1_asymmetric_cipher.html#ad0c11852dcf49b1b01f4807e0a55fa31" title="Asymmetric cipher algorithm.">algorithm</a> + <span class="stringliteral">&quot;/&quot;</span> 
                    + <a class="code" href="classcrypto_1_1_asymmetric_cipher.html#af43af19dcd997b41db3a04f3cad8708f" title="Default key size for algorithm.">keySize</a> + <span class="stringliteral">&quot; key pair: &#39;&quot;</span> + this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a75e830005516d3970c17b43fb43630e3" title="The comment (description) of the key pair.">keyPairComment</a> + <span class="stringliteral">&quot;&#39;&quot;</span> );
        }
        <span class="keywordflow">catch</span>( NoSuchAlgorithmException e )
        {
            StringBuffer algos = <span class="keyword">new</span> StringBuffer( <span class="stringliteral">&quot;Available algorithms:&quot;</span> );
            
            <span class="keywordflow">for</span>( String s : Security.getAlgorithms( <span class="stringliteral">&quot;Cipher&quot;</span> ) ) {
                algos.append( <span class="stringliteral">&quot; &quot;</span> ).append( s );
            }
            
            <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.exception( <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.ERROR, e );
            <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.warn( algos.toString () );
        }
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a0d77f5c1de194469948432690799c369"></a><!-- doxytag: member="crypto::AsymmetricCipher::getNamedPublicKey" ref="a0d77f5c1de194469948432690799c369" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String crypto.AsymmetricCipher.getNamedPublicKey </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns serializable named publicKey (with comment) encoded as Base64. </p>

<p>Definition at line <a class="el" href="_asymmetric_cipher_8java_source.html#l00381">381</a> of file <a class="el" href="_asymmetric_cipher_8java_source.html">AsymmetricCipher.java</a>.</p>

<p>References <a class="el" href="_asymmetric_cipher_8java_source.html#l00097">crypto.AsymmetricCipher.keyPairComment</a>, and <a class="el" href="_asymmetric_cipher_8java_source.html#l00092">crypto.AsymmetricCipher.publicKey</a>.</p>

<p>Referenced by <a class="el" href="_cipher_engine_8java_source.html#l00078">crypto.CipherEngine.getNamedPublicKey()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        StringBuffer sb = <span class="keyword">new</span> StringBuffer ();

        <span class="keywordflow">try</span> {
            String encodedKey = Base64.encodeObject( <span class="keyword">new</span> NamedPublicKey( 
                    this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a58c62ba94be1a9787027adf36703ee37" title="Public key corresponding to our private key.">publicKey</a>, this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a75e830005516d3970c17b43fb43630e3" title="The comment (description) of the key pair.">keyPairComment</a> ), Base64.GZIP );
            
            sb.append( encodedKey );
            sb.append( <span class="stringliteral">&quot; &quot;</span> );
            sb.append( this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a75e830005516d3970c17b43fb43630e3" title="The comment (description) of the key pair.">keyPairComment</a> );
        }
        <span class="keywordflow">catch</span>( IOException e )
        {
            <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.exception( <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.ERROR, e );
        }

        <span class="keywordflow">return</span> sb.toString ();
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a74de46a982c40eded466eeca03702ed9"></a><!-- doxytag: member="crypto::AsymmetricCipher::getSerializedAndSignedPublicKey" ref="a74de46a982c40eded466eeca03702ed9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String crypto.AsymmetricCipher.getSerializedAndSignedPublicKey </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns serialized public key used for encryption of datagrams as Base64 string. </p>

<p>Definition at line <a class="el" href="_asymmetric_cipher_8java_source.html#l00347">347</a> of file <a class="el" href="_asymmetric_cipher_8java_source.html">AsymmetricCipher.java</a>.</p>

<p>References <a class="el" href="_asymmetric_cipher_8java_source.html#l00107">crypto.AsymmetricCipher.serializedPublicKey</a>.</p>

<p>Referenced by <a class="el" href="_cipher_engine_8java_source.html#l00066">crypto.CipherEngine.getSignedPublicKey()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">return</span> this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a34be090be49fe6805ba6b1b8d9d439d0" title="Our public key: serialized and encoded as Base64 string.">serializedPublicKey</a>;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="aea90920a16d88026264f80eefdb522e8"></a><!-- doxytag: member="crypto::AsymmetricCipher::instantiateCipher" ref="aea90920a16d88026264f80eefdb522e8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void crypto.AsymmetricCipher.instantiateCipher </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Instantiates a cipher. </p>

<p>Definition at line <a class="el" href="_asymmetric_cipher_8java_source.html#l00280">280</a> of file <a class="el" href="_asymmetric_cipher_8java_source.html">AsymmetricCipher.java</a>.</p>

<p>References <a class="el" href="_asymmetric_cipher_8java_source.html#l00055">crypto.AsymmetricCipher.algorithm</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00102">crypto.AsymmetricCipher.cipher</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00067">crypto.AsymmetricCipher.padding</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00087">crypto.AsymmetricCipher.privateKey</a>, and <a class="el" href="_asymmetric_cipher_8java_source.html#l00092">crypto.AsymmetricCipher.publicKey</a>.</p>

<p>Referenced by <a class="el" href="_asymmetric_cipher_8java_source.html#l00112">crypto.AsymmetricCipher.AsymmetricCipher()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a6ac536ea7d1f2ef7662a2c9a4fcd66ff" title="Instance of the decrypting engine based on our private key.">cipher</a> = null;

        <span class="keywordflow">if</span> ( this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a50880f09dfb935a74ee953f0067f17ee" title="Private key used for deciphering and signing messages.">privateKey</a> == null || this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a58c62ba94be1a9787027adf36703ee37" title="Public key corresponding to our private key.">publicKey</a> == null ) {
            <span class="keywordflow">return</span>; <span class="comment">// must have key pair</span>
        }

        <span class="keywordflow">try</span>
        {
            this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a6ac536ea7d1f2ef7662a2c9a4fcd66ff" title="Instance of the decrypting engine based on our private key.">cipher</a> = Cipher.getInstance( <a class="code" href="classcrypto_1_1_asymmetric_cipher.html#ad0c11852dcf49b1b01f4807e0a55fa31" title="Asymmetric cipher algorithm.">algorithm</a> + <a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a361726f985da9120cf81235b770a550d" title="Padding to be used when ciphering/deciphering.">padding</a> );

            <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.trace( <span class="stringliteral">&quot;Instantiated asymmetric cipher: &quot;</span> + this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a6ac536ea7d1f2ef7662a2c9a4fcd66ff" title="Instance of the decrypting engine based on our private key.">cipher</a>.getAlgorithm () );
        }
        <span class="keywordflow">catch</span>( NoSuchAlgorithmException e )
        {
            StringBuffer algos = <span class="keyword">new</span> StringBuffer( <span class="stringliteral">&quot;Available algorithms:&quot;</span> );
            
            <span class="keywordflow">for</span>( String s : Security.getAlgorithms( <span class="stringliteral">&quot;Cipher&quot;</span> ) ) {
                algos.append( <span class="stringliteral">&quot; &quot;</span> ).append( s );
            }
            
            <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.exception( <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.ERROR, e );
            <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.warn( algos.toString () );
        }
        <span class="keywordflow">catch</span>( NoSuchPaddingException e )
        {
            <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.exception( <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.ERROR, e );
        }
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a98b697e96744cbe09ce2d8b202af806d"></a><!-- doxytag: member="crypto::AsymmetricCipher::isActive" ref="a98b697e96744cbe09ce2d8b202af806d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean crypto.AsymmetricCipher.isActive </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns if cipher is properly initialized. </p>

<p>Definition at line <a class="el" href="_asymmetric_cipher_8java_source.html#l00338">338</a> of file <a class="el" href="_asymmetric_cipher_8java_source.html">AsymmetricCipher.java</a>.</p>

<p>References <a class="el" href="_asymmetric_cipher_8java_source.html#l00102">crypto.AsymmetricCipher.cipher</a>, and <a class="el" href="_asymmetric_cipher_8java_source.html#l00107">crypto.AsymmetricCipher.serializedPublicKey</a>.</p>

<p>Referenced by <a class="el" href="_asymmetric_cipher_8java_source.html#l00112">crypto.AsymmetricCipher.AsymmetricCipher()</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00358">crypto.AsymmetricCipher.exportPublicKey()</a>, and <a class="el" href="_asymmetric_cipher_8java_source.html#l00202">crypto.AsymmetricCipher.saveKeyPair()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">return</span> this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a6ac536ea7d1f2ef7662a2c9a4fcd66ff" title="Instance of the decrypting engine based on our private key.">cipher</a> != null &amp;&amp; this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a34be090be49fe6805ba6b1b8d9d439d0" title="Our public key: serialized and encoded as Base64 string.">serializedPublicKey</a> != null;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a3ab0179f2c86b724fd358b699f457f82"></a><!-- doxytag: member="crypto::AsymmetricCipher::loadObject" ref="a3ab0179f2c86b724fd358b699f457f82" args="(String fileName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static Object crypto.AsymmetricCipher.loadObject </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"> <em>fileName</em>&#160;)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Loads serializable object encoded in Base64 from file. </p>

<p>Definition at line <a class="el" href="_asymmetric_cipher_8java_source.html#l00437">437</a> of file <a class="el" href="_asymmetric_cipher_8java_source.html">AsymmetricCipher.java</a>.</p>

<p>Referenced by <a class="el" href="_asymmetric_cipher_8java_source.html#l00175">crypto.AsymmetricCipher.loadSavedKeyPair()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        Object <span class="keywordtype">object</span> = null;

        <span class="keywordflow">try</span> {
            StringBuffer sb = <span class="keyword">new</span> StringBuffer ();
            
            BufferedReader in = <span class="keyword">new</span> BufferedReader( <span class="keyword">new</span> FileReader( fileName ) );
            String line;
            <span class="keywordflow">while</span>( ( line = in.readLine () ) != null ) {
                sb.append( line );
            }
            in.close ();

            <span class="keywordtype">object</span> = Base64.decodeToObject( sb.toString () );
        }
        <span class="keywordflow">catch</span>( FileNotFoundException e )
        {
            <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.exception( <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.TRACE, e );
        }
        <span class="keywordflow">catch</span>( IOException e )
        {
            <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.exception( <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.WARN, e );
        }
        <span class="keywordflow">catch</span>( ClassNotFoundException e )
        {
            <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.exception( <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.ERROR, e );
        }

        <span class="keywordflow">return</span> object;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a97fc10cc37d4a56899ab26fdf1e01361"></a><!-- doxytag: member="crypto::AsymmetricCipher::loadSavedKeyPair" ref="a97fc10cc37d4a56899ab26fdf1e01361" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean crypto.AsymmetricCipher.loadSavedKeyPair </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Load saved key pair. </p>

<p>Definition at line <a class="el" href="_asymmetric_cipher_8java_source.html#l00175">175</a> of file <a class="el" href="_asymmetric_cipher_8java_source.html">AsymmetricCipher.java</a>.</p>

<p>References <a class="el" href="_named_key_pair_8java_source.html#l00032">crypto.NamedKeyPair.comment</a>, <a class="el" href="_cipher_engine_8java_source.html#l00057">crypto.CipherEngine.getPrivateKeyDirectory()</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00097">crypto.AsymmetricCipher.keyPairComment</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00437">crypto.AsymmetricCipher.loadObject()</a>, <a class="el" href="_named_key_pair_8java_source.html#l00027">crypto.NamedKeyPair.privateKey</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00087">crypto.AsymmetricCipher.privateKey</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00077">crypto.AsymmetricCipher.privateKeyFile</a>, <a class="el" href="_named_key_pair_8java_source.html#l00022">crypto.NamedKeyPair.publicKey</a>, and <a class="el" href="_asymmetric_cipher_8java_source.html#l00092">crypto.AsymmetricCipher.publicKey</a>.</p>

<p>Referenced by <a class="el" href="_asymmetric_cipher_8java_source.html#l00112">crypto.AsymmetricCipher.AsymmetricCipher()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a50880f09dfb935a74ee953f0067f17ee" title="Private key used for deciphering and signing messages.">privateKey</a> = null;
        this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a58c62ba94be1a9787027adf36703ee37" title="Public key corresponding to our private key.">publicKey</a> = null;
        
        String keyFilePath = CipherEngine.getPrivateKeyDirectory() 
                           + <a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a084c666a38dcd44716147bed134ab974" title="Generates a pair of keys and serializes public key as Base64 string.">AsymmetricCipher</a>.privateKeyFile;

        Object oPair = <a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a3ab0179f2c86b724fd358b699f457f82" title="Loads serializable object encoded in Base64 from file.">loadObject</a>( keyFilePath );
        
        <span class="keywordflow">if</span> ( oPair != null &amp;&amp; ( oPair instanceof NamedKeyPair ) ) 
        {
            NamedKeyPair keyPair = (NamedKeyPair) oPair;
            this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a50880f09dfb935a74ee953f0067f17ee" title="Private key used for deciphering and signing messages.">privateKey</a> = keyPair.privateKey;
            this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a58c62ba94be1a9787027adf36703ee37" title="Public key corresponding to our private key.">publicKey</a> = keyPair.publicKey;
            this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a75e830005516d3970c17b43fb43630e3" title="The comment (description) of the key pair.">keyPairComment</a> = keyPair.comment;
            
            <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.attn( <span class="stringliteral">&quot;Loaded private key &#39;&quot;</span> + this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a75e830005516d3970c17b43fb43630e3" title="The comment (description) of the key pair.">keyPairComment</a> 
                    + <span class="stringliteral">&quot;&#39; from file &#39;&quot;</span> + <a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a084c666a38dcd44716147bed134ab974" title="Generates a pair of keys and serializes public key as Base64 string.">AsymmetricCipher</a>.privateKeyFile + <span class="stringliteral">&quot;&#39;&quot;</span> );
        }

        <span class="keywordflow">return</span> ( this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a50880f09dfb935a74ee953f0067f17ee" title="Private key used for deciphering and signing messages.">privateKey</a> != null &amp;&amp; this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a58c62ba94be1a9787027adf36703ee37" title="Public key corresponding to our private key.">publicKey</a> != null ); 
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a8b688fb593f384b58c1232ca40af8bc5"></a><!-- doxytag: member="crypto::AsymmetricCipher::sanityCheck" ref="a8b688fb593f384b58c1232ca40af8bc5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean crypto.AsymmetricCipher.sanityCheck </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sanity check whether <a class="el" href="classcrypto_1_1_public_encryptor.html" title="Implements public part of the asymmetric cipher (with public key) used to send encrypted local secret...">PublicEncryptor</a> works with PrivateEncryption. </p>

<p>Definition at line <a class="el" href="_asymmetric_cipher_8java_source.html#l00472">472</a> of file <a class="el" href="_asymmetric_cipher_8java_source.html">AsymmetricCipher.java</a>.</p>

<p>References <a class="el" href="_asymmetric_cipher_8java_source.html#l00512">crypto.AsymmetricCipher.decrypt()</a>, <a class="el" href="_public_encryptor_8java_source.html#l00342">crypto.PublicEncryptor.encrypt()</a>, and <a class="el" href="_asymmetric_cipher_8java_source.html#l00107">crypto.AsymmetricCipher.serializedPublicKey</a>.</p>

<p>Referenced by <a class="el" href="_asymmetric_cipher_8java_source.html#l00112">crypto.AsymmetricCipher.AsymmetricCipher()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        <span class="comment">/* Random data </span>
<span class="comment">         */</span>
        byte[] plainText = <span class="keyword">new</span> byte[ 2048 ];
        <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0; i &lt; plainText.length; ++i ) {
            plainText[i] = (byte)( Math.random() * 256 );
        }
        
        <span class="comment">/* Simulate encryption at remote end and local decryption</span>
<span class="comment">         */</span>
        PublicEncryptor testPublic = <span class="keyword">new</span> PublicEncryptor( this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a34be090be49fe6805ba6b1b8d9d439d0" title="Our public key: serialized and encoded as Base64 string.">serializedPublicKey</a>, null );
        byte[] cipherText = testPublic.encrypt( plainText );
        byte[] output =  this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#ab131ee6818da2f399483ab7b5ae7aadc" title="Decrypts cipher text using the private key.">decrypt</a>( cipherText );
        
        <span class="keywordflow">if</span> ( ! java.util.Arrays.equals( plainText, output ) )
        {
            <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.error( <span class="stringliteral">&quot;Public encryption / private decryption sanity check failed.&quot;</span> );

            <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.trace( <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.toHex( plainText ) );
            <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.trace( <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.toHex( cipherText ) );
            <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.trace( <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.toHex( output ) );
            
            <span class="keywordflow">return</span> <span class="keyword">false</span>;
        }
        
        <span class="keywordflow">return</span> <span class="keyword">true</span>;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a08d9530c8b897fa70492011f92794c32"></a><!-- doxytag: member="crypto::AsymmetricCipher::saveKeyPair" ref="a08d9530c8b897fa70492011f92794c32" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void crypto.AsymmetricCipher.saveKeyPair </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Saves private/public key pair with description (this.keyPairComment) </p>

<p>Definition at line <a class="el" href="_asymmetric_cipher_8java_source.html#l00202">202</a> of file <a class="el" href="_asymmetric_cipher_8java_source.html">AsymmetricCipher.java</a>.</p>

<p>References <a class="el" href="_cipher_engine_8java_source.html#l00057">crypto.CipherEngine.getPrivateKeyDirectory()</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00338">crypto.AsymmetricCipher.isActive()</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00097">crypto.AsymmetricCipher.keyPairComment</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00087">crypto.AsymmetricCipher.privateKey</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00077">crypto.AsymmetricCipher.privateKeyFile</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00092">crypto.AsymmetricCipher.publicKey</a>, and <a class="el" href="_asymmetric_cipher_8java_source.html#l00404">crypto.AsymmetricCipher.saveObject()</a>.</p>

<p>Referenced by <a class="el" href="_asymmetric_cipher_8java_source.html#l00112">crypto.AsymmetricCipher.AsymmetricCipher()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">if</span> ( ! <a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a98b697e96744cbe09ce2d8b202af806d" title="Returns if cipher is properly initialized.">isActive</a> () ) {
            <span class="keywordflow">return</span>;
        }

        String keyFilePath = CipherEngine.getPrivateKeyDirectory() 
                           + <a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a084c666a38dcd44716147bed134ab974" title="Generates a pair of keys and serializes public key as Base64 string.">AsymmetricCipher</a>.privateKeyFile;
        
        <span class="keywordflow">if</span> ( <a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a6ac88d0d8bba5a4e474e8066fa9fa6ba" title="Saves serializable object encoded in Base64 to file.">saveObject</a>( 
                <span class="keyword">new</span> NamedKeyPair( this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a58c62ba94be1a9787027adf36703ee37" title="Public key corresponding to our private key.">publicKey</a>, this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a50880f09dfb935a74ee953f0067f17ee" title="Private key used for deciphering and signing messages.">privateKey</a>, this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a75e830005516d3970c17b43fb43630e3" title="The comment (description) of the key pair.">keyPairComment</a> ),
                keyFilePath, null ) )
        {
            <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.attn( <span class="stringliteral">&quot;Private key saved as &#39;&quot;</span> + keyFilePath + <span class="stringliteral">&quot;&#39;&quot;</span> );
            
            <span class="comment">/* Change file permissions using native OS &#39;chmod&#39; command (ignoring Windows), </span>
<span class="comment">             * so that no one but the owner might read its contents.</span>
<span class="comment">             */</span>
            String osName = System.getProperty( <span class="stringliteral">&quot;os.name&quot;</span> ).toLowerCase();
            <span class="keywordflow">if</span> ( ! osName.matches( <span class="stringliteral">&quot;^.*windows.*$&quot;</span> ) ) 
            {
                <span class="keywordflow">try</span> 
                {
                    Runtime.getRuntime().exec( <span class="keyword">new</span> String[] { <span class="stringliteral">&quot;chmod&quot;</span>, <span class="stringliteral">&quot;400&quot;</span>, keyFilePath } );
                }
                <span class="keywordflow">catch</span>( IOException e ) 
                {
                    <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.trace( <span class="stringliteral">&quot;Failed to do chmod; OS = &quot;</span> + osName );
                    <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.exception( <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.TRACE, e );
                }
            }
        }
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a6ac88d0d8bba5a4e474e8066fa9fa6ba"></a><!-- doxytag: member="crypto::AsymmetricCipher::saveObject" ref="a6ac88d0d8bba5a4e474e8066fa9fa6ba" args="(Serializable object, String fileName, String comment)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static boolean crypto.AsymmetricCipher.saveObject </td>
          <td>(</td>
          <td class="paramtype">Serializable&#160;</td>
          <td class="paramname"> <em>object</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"> <em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"> <em>comment</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Saves serializable object encoded in Base64 to file. </p>

<p>Definition at line <a class="el" href="_asymmetric_cipher_8java_source.html#l00404">404</a> of file <a class="el" href="_asymmetric_cipher_8java_source.html">AsymmetricCipher.java</a>.</p>

<p>Referenced by <a class="el" href="_asymmetric_cipher_8java_source.html#l00358">crypto.AsymmetricCipher.exportPublicKey()</a>, and <a class="el" href="_asymmetric_cipher_8java_source.html#l00202">crypto.AsymmetricCipher.saveKeyPair()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        <span class="keywordtype">boolean</span> result = <span class="keyword">false</span>;

        <span class="keywordflow">try</span> {
            String text = Base64.encodeObject( <span class="keywordtype">object</span>, Base64.GZIP );
            
            BufferedWriter out = <span class="keyword">new</span> BufferedWriter( <span class="keyword">new</span> FileWriter( fileName ) );
            
            out.write( text );
            
            <span class="keywordflow">if</span> ( comment != null ) {
                out.write( comment );
            }

            out.flush ();
            out.close ();
            
            <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.trace( <span class="stringliteral">&quot;Saved &quot;</span> + <span class="keywordtype">object</span>.getClass().toString () + <span class="stringliteral">&quot; into &quot;</span> + fileName );
            
            result = <span class="keyword">true</span>;
        }
        <span class="keywordflow">catch</span>( IOException e )
        {
            <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.exception( <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.ERROR, e );
        }

        <span class="keywordflow">return</span> result;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a9b51c8f90c0a9198bf1185e41f0af95b"></a><!-- doxytag: member="crypto::AsymmetricCipher::serializePublicKey" ref="a9b51c8f90c0a9198bf1185e41f0af95b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void crypto.AsymmetricCipher.serializePublicKey </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Serializes the public key, signs it and encodes in Base64 format. </p>

<p>Definition at line <a class="el" href="_asymmetric_cipher_8java_source.html#l00314">314</a> of file <a class="el" href="_asymmetric_cipher_8java_source.html">AsymmetricCipher.java</a>.</p>

<p>References <a class="el" href="_asymmetric_cipher_8java_source.html#l00102">crypto.AsymmetricCipher.cipher</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00087">crypto.AsymmetricCipher.privateKey</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00092">crypto.AsymmetricCipher.publicKey</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00107">crypto.AsymmetricCipher.serializedPublicKey</a>, and <a class="el" href="_asymmetric_cipher_8java_source.html#l00561">crypto.AsymmetricCipher.signObject()</a>.</p>

<p>Referenced by <a class="el" href="_asymmetric_cipher_8java_source.html#l00112">crypto.AsymmetricCipher.AsymmetricCipher()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">if</span> ( this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a50880f09dfb935a74ee953f0067f17ee" title="Private key used for deciphering and signing messages.">privateKey</a> == null || this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a58c62ba94be1a9787027adf36703ee37" title="Public key corresponding to our private key.">publicKey</a> == null || this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a6ac536ea7d1f2ef7662a2c9a4fcd66ff" title="Instance of the decrypting engine based on our private key.">cipher</a> == null ) {
            <span class="keywordflow">return</span>; <span class="comment">// must have key pair and cipher</span>
        }

        <span class="keywordflow">try</span>
        {
            SignedObject signedPublicKey = this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a61111a394ec95937be6669a92231e077" title="Signs object using private key.">signObject</a>( this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a58c62ba94be1a9787027adf36703ee37" title="Public key corresponding to our private key.">publicKey</a> );
  
            this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a34be090be49fe6805ba6b1b8d9d439d0" title="Our public key: serialized and encoded as Base64 string.">serializedPublicKey</a> = Base64.encodeObject( signedPublicKey, Base64.GZIP );

            <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.trace( <span class="stringliteral">&quot;Serialized Public Key in Base64; length = &quot;</span> 
                    + this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a34be090be49fe6805ba6b1b8d9d439d0" title="Our public key: serialized and encoded as Base64 string.">serializedPublicKey</a>.length () );
        }
        <span class="keywordflow">catch</span>( IOException e )
        {
            <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.exception( <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.ERROR, e );
        }
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a61111a394ec95937be6669a92231e077"></a><!-- doxytag: member="crypto::AsymmetricCipher::signObject" ref="a61111a394ec95937be6669a92231e077" args="(Serializable object)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SignedObject crypto.AsymmetricCipher.signObject </td>
          <td>(</td>
          <td class="paramtype">Serializable&#160;</td>
          <td class="paramname"> <em>object</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Signs object using private key. </p>

<p>Definition at line <a class="el" href="_asymmetric_cipher_8java_source.html#l00561">561</a> of file <a class="el" href="_asymmetric_cipher_8java_source.html">AsymmetricCipher.java</a>.</p>

<p>References <a class="el" href="_asymmetric_cipher_8java_source.html#l00072">crypto.AsymmetricCipher.digest</a>, and <a class="el" href="_asymmetric_cipher_8java_source.html#l00087">crypto.AsymmetricCipher.privateKey</a>.</p>

<p>Referenced by <a class="el" href="_cipher_engine_8java_source.html#l00098">crypto.CipherEngine.getSignedSecretKey()</a>, and <a class="el" href="_asymmetric_cipher_8java_source.html#l00314">crypto.AsymmetricCipher.serializePublicKey()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        String signatureAlgorithm = <a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a1967b86b912ed31edcb484776090b639" title="Message digest used for creating/validating signatures.">digest</a> + <span class="stringliteral">&quot;with&quot;</span> + this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a50880f09dfb935a74ee953f0067f17ee" title="Private key used for deciphering and signing messages.">privateKey</a>.getAlgorithm ();
        
        Signature signature = null;
        SignedObject result = null;

        <span class="keywordflow">try</span> 
        {
            signature = Signature.getInstance( signatureAlgorithm );
            signature.initSign( this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a50880f09dfb935a74ee953f0067f17ee" title="Private key used for deciphering and signing messages.">privateKey</a> );
            result = <span class="keyword">new</span> SignedObject( <span class="keywordtype">object</span>, this.<a class="code" href="classcrypto_1_1_asymmetric_cipher.html#a50880f09dfb935a74ee953f0067f17ee" title="Private key used for deciphering and signing messages.">privateKey</a>, signature ); 
        }
        <span class="keywordflow">catch</span>( NoSuchAlgorithmException e )
        {
            <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.exception( <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.ERROR, e );
        }
        <span class="keywordflow">catch</span>( InvalidKeyException e )
        {
            <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.exception( <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.ERROR, e );
        }
        <span class="keywordflow">catch</span>( SignatureException e )
        {
            <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.exception( <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.ERROR, e );
        }
        <span class="keywordflow">catch</span>( IOException e )
        {
            <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.exception( <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.ERROR, e );
        }
        
        <span class="keywordflow">return</span> result;
    }
</pre></div>
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="ad0c11852dcf49b1b01f4807e0a55fa31"></a><!-- doxytag: member="crypto::AsymmetricCipher::algorithm" ref="ad0c11852dcf49b1b01f4807e0a55fa31" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">final String <a class="el" href="classcrypto_1_1_asymmetric_cipher.html#ad0c11852dcf49b1b01f4807e0a55fa31">crypto.AsymmetricCipher.algorithm</a> = &quot;RSA&quot;<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Asymmetric cipher algorithm. </p>

<p>Definition at line <a class="el" href="_asymmetric_cipher_8java_source.html#l00055">55</a> of file <a class="el" href="_asymmetric_cipher_8java_source.html">AsymmetricCipher.java</a>.</p>

<p>Referenced by <a class="el" href="_asymmetric_cipher_8java_source.html#l00239">crypto.AsymmetricCipher.generateKeyPair()</a>, and <a class="el" href="_asymmetric_cipher_8java_source.html#l00280">crypto.AsymmetricCipher.instantiateCipher()</a>.</p>

</div>
</div>
<a class="anchor" id="a6ac536ea7d1f2ef7662a2c9a4fcd66ff"></a><!-- doxytag: member="crypto::AsymmetricCipher::cipher" ref="a6ac536ea7d1f2ef7662a2c9a4fcd66ff" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Cipher <a class="el" href="classcrypto_1_1_asymmetric_cipher.html#a6ac536ea7d1f2ef7662a2c9a4fcd66ff">crypto.AsymmetricCipher.cipher</a> = null<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Instance of the decrypting engine based on our private key. </p>

<p>Definition at line <a class="el" href="_asymmetric_cipher_8java_source.html#l00102">102</a> of file <a class="el" href="_asymmetric_cipher_8java_source.html">AsymmetricCipher.java</a>.</p>

<p>Referenced by <a class="el" href="_asymmetric_cipher_8java_source.html#l00512">crypto.AsymmetricCipher.decrypt()</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00164">crypto.AsymmetricCipher.destruct()</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00280">crypto.AsymmetricCipher.instantiateCipher()</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00338">crypto.AsymmetricCipher.isActive()</a>, and <a class="el" href="_asymmetric_cipher_8java_source.html#l00314">crypto.AsymmetricCipher.serializePublicKey()</a>.</p>

</div>
</div>
<a class="anchor" id="a1967b86b912ed31edcb484776090b639"></a><!-- doxytag: member="crypto::AsymmetricCipher::digest" ref="a1967b86b912ed31edcb484776090b639" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">final String <a class="el" href="classcrypto_1_1_asymmetric_cipher.html#a1967b86b912ed31edcb484776090b639">crypto.AsymmetricCipher.digest</a> = &quot;SHA1&quot;<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Message digest used for creating/validating signatures. </p>

<p>Definition at line <a class="el" href="_asymmetric_cipher_8java_source.html#l00072">72</a> of file <a class="el" href="_asymmetric_cipher_8java_source.html">AsymmetricCipher.java</a>.</p>

<p>Referenced by <a class="el" href="_asymmetric_cipher_8java_source.html#l00561">crypto.AsymmetricCipher.signObject()</a>.</p>

</div>
</div>
<a class="anchor" id="a75e830005516d3970c17b43fb43630e3"></a><!-- doxytag: member="crypto::AsymmetricCipher::keyPairComment" ref="a75e830005516d3970c17b43fb43630e3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String <a class="el" href="classcrypto_1_1_asymmetric_cipher.html#a75e830005516d3970c17b43fb43630e3">crypto.AsymmetricCipher.keyPairComment</a> = null<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The comment (description) of the key pair. </p>

<p>Definition at line <a class="el" href="_asymmetric_cipher_8java_source.html#l00097">97</a> of file <a class="el" href="_asymmetric_cipher_8java_source.html">AsymmetricCipher.java</a>.</p>

<p>Referenced by <a class="el" href="_asymmetric_cipher_8java_source.html#l00358">crypto.AsymmetricCipher.exportPublicKey()</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00239">crypto.AsymmetricCipher.generateKeyPair()</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00381">crypto.AsymmetricCipher.getNamedPublicKey()</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00175">crypto.AsymmetricCipher.loadSavedKeyPair()</a>, and <a class="el" href="_asymmetric_cipher_8java_source.html#l00202">crypto.AsymmetricCipher.saveKeyPair()</a>.</p>

</div>
</div>
<a class="anchor" id="af43af19dcd997b41db3a04f3cad8708f"></a><!-- doxytag: member="crypto::AsymmetricCipher::keySize" ref="af43af19dcd997b41db3a04f3cad8708f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">final int <a class="el" href="classcrypto_1_1_asymmetric_cipher.html#af43af19dcd997b41db3a04f3cad8708f">crypto.AsymmetricCipher.keySize</a> = 1024<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Default key size for algorithm. </p>

<p>Definition at line <a class="el" href="_asymmetric_cipher_8java_source.html#l00060">60</a> of file <a class="el" href="_asymmetric_cipher_8java_source.html">AsymmetricCipher.java</a>.</p>

<p>Referenced by <a class="el" href="_asymmetric_cipher_8java_source.html#l00239">crypto.AsymmetricCipher.generateKeyPair()</a>.</p>

</div>
</div>
<a class="anchor" id="a361726f985da9120cf81235b770a550d"></a><!-- doxytag: member="crypto::AsymmetricCipher::padding" ref="a361726f985da9120cf81235b770a550d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">final String <a class="el" href="classcrypto_1_1_asymmetric_cipher.html#a361726f985da9120cf81235b770a550d">crypto.AsymmetricCipher.padding</a> = &quot;/ECB/PKCS1PADDING&quot;<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Padding to be used when ciphering/deciphering. </p>
<p>JCE does not support RSA/CBC so the CBC mode is built on the top of ECB in <a class="el" href="classcrypto_1_1_asymmetric_cipher.html#ab131ee6818da2f399483ab7b5ae7aadc" title="Decrypts cipher text using the private key.">AsymmetricCipher.decrypt()</a>. </p>

<p>Definition at line <a class="el" href="_asymmetric_cipher_8java_source.html#l00067">67</a> of file <a class="el" href="_asymmetric_cipher_8java_source.html">AsymmetricCipher.java</a>.</p>

<p>Referenced by <a class="el" href="_asymmetric_cipher_8java_source.html#l00280">crypto.AsymmetricCipher.instantiateCipher()</a>.</p>

</div>
</div>
<a class="anchor" id="a50880f09dfb935a74ee953f0067f17ee"></a><!-- doxytag: member="crypto::AsymmetricCipher::privateKey" ref="a50880f09dfb935a74ee953f0067f17ee" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PrivateKey <a class="el" href="classcrypto_1_1_asymmetric_cipher.html#a50880f09dfb935a74ee953f0067f17ee">crypto.AsymmetricCipher.privateKey</a> = null<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Private key used for deciphering and signing messages. </p>

<p>Definition at line <a class="el" href="_asymmetric_cipher_8java_source.html#l00087">87</a> of file <a class="el" href="_asymmetric_cipher_8java_source.html">AsymmetricCipher.java</a>.</p>

<p>Referenced by <a class="el" href="_asymmetric_cipher_8java_source.html#l00512">crypto.AsymmetricCipher.decrypt()</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00164">crypto.AsymmetricCipher.destruct()</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00239">crypto.AsymmetricCipher.generateKeyPair()</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00280">crypto.AsymmetricCipher.instantiateCipher()</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00175">crypto.AsymmetricCipher.loadSavedKeyPair()</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00202">crypto.AsymmetricCipher.saveKeyPair()</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00314">crypto.AsymmetricCipher.serializePublicKey()</a>, and <a class="el" href="_asymmetric_cipher_8java_source.html#l00561">crypto.AsymmetricCipher.signObject()</a>.</p>

</div>
</div>
<a class="anchor" id="abcb2b1f0d0fc6981b49b50d7faa4ef80"></a><!-- doxytag: member="crypto::AsymmetricCipher::privateKeyFile" ref="abcb2b1f0d0fc6981b49b50d7faa4ef80" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">final String <a class="el" href="classcrypto_1_1_asymmetric_cipher.html#abcb2b1f0d0fc6981b49b50d7faa4ef80">crypto.AsymmetricCipher.privateKeyFile</a> = &quot;mykf-private-key.txt&quot;<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The name of the file holding saved private key. </p>

<p>Definition at line <a class="el" href="_asymmetric_cipher_8java_source.html#l00077">77</a> of file <a class="el" href="_asymmetric_cipher_8java_source.html">AsymmetricCipher.java</a>.</p>

<p>Referenced by <a class="el" href="_asymmetric_cipher_8java_source.html#l00175">crypto.AsymmetricCipher.loadSavedKeyPair()</a>, and <a class="el" href="_asymmetric_cipher_8java_source.html#l00202">crypto.AsymmetricCipher.saveKeyPair()</a>.</p>

</div>
</div>
<a class="anchor" id="a58c62ba94be1a9787027adf36703ee37"></a><!-- doxytag: member="crypto::AsymmetricCipher::publicKey" ref="a58c62ba94be1a9787027adf36703ee37" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PublicKey <a class="el" href="classcrypto_1_1_asymmetric_cipher.html#a58c62ba94be1a9787027adf36703ee37">crypto.AsymmetricCipher.publicKey</a> = null<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Public key corresponding to our private key. </p>

<p>Definition at line <a class="el" href="_asymmetric_cipher_8java_source.html#l00092">92</a> of file <a class="el" href="_asymmetric_cipher_8java_source.html">AsymmetricCipher.java</a>.</p>

<p>Referenced by <a class="el" href="_asymmetric_cipher_8java_source.html#l00164">crypto.AsymmetricCipher.destruct()</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00358">crypto.AsymmetricCipher.exportPublicKey()</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00239">crypto.AsymmetricCipher.generateKeyPair()</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00381">crypto.AsymmetricCipher.getNamedPublicKey()</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00280">crypto.AsymmetricCipher.instantiateCipher()</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00175">crypto.AsymmetricCipher.loadSavedKeyPair()</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00202">crypto.AsymmetricCipher.saveKeyPair()</a>, and <a class="el" href="_asymmetric_cipher_8java_source.html#l00314">crypto.AsymmetricCipher.serializePublicKey()</a>.</p>

</div>
</div>
<a class="anchor" id="aa02d02ea23fd8c0dce971b439bad59d5"></a><!-- doxytag: member="crypto::AsymmetricCipher::publicKeyFile" ref="aa02d02ea23fd8c0dce971b439bad59d5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">final String <a class="el" href="classcrypto_1_1_asymmetric_cipher.html#aa02d02ea23fd8c0dce971b439bad59d5">crypto.AsymmetricCipher.publicKeyFile</a> = &quot;mykf-public-key.txt&quot;<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The name of the file holding saved public key. </p>

<p>Definition at line <a class="el" href="_asymmetric_cipher_8java_source.html#l00082">82</a> of file <a class="el" href="_asymmetric_cipher_8java_source.html">AsymmetricCipher.java</a>.</p>

<p>Referenced by <a class="el" href="_asymmetric_cipher_8java_source.html#l00358">crypto.AsymmetricCipher.exportPublicKey()</a>.</p>

</div>
</div>
<a class="anchor" id="a34be090be49fe6805ba6b1b8d9d439d0"></a><!-- doxytag: member="crypto::AsymmetricCipher::serializedPublicKey" ref="a34be090be49fe6805ba6b1b8d9d439d0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String <a class="el" href="classcrypto_1_1_asymmetric_cipher.html#a34be090be49fe6805ba6b1b8d9d439d0">crypto.AsymmetricCipher.serializedPublicKey</a> = null<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Our public key: serialized and encoded as Base64 string. </p>

<p>Definition at line <a class="el" href="_asymmetric_cipher_8java_source.html#l00107">107</a> of file <a class="el" href="_asymmetric_cipher_8java_source.html">AsymmetricCipher.java</a>.</p>

<p>Referenced by <a class="el" href="_asymmetric_cipher_8java_source.html#l00164">crypto.AsymmetricCipher.destruct()</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00347">crypto.AsymmetricCipher.getSerializedAndSignedPublicKey()</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00338">crypto.AsymmetricCipher.isActive()</a>, <a class="el" href="_asymmetric_cipher_8java_source.html#l00472">crypto.AsymmetricCipher.sanityCheck()</a>, and <a class="el" href="_asymmetric_cipher_8java_source.html#l00314">crypto.AsymmetricCipher.serializePublicKey()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>crypto/<a class="el" href="_asymmetric_cipher_8java_source.html">AsymmetricCipher.java</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Thu Dec 16 2010 14:44:44 for VoIP Kryptofon by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.2 </small></address>
</body>
</html>
