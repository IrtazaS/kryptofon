<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>VoIP Kryptofon: protocol.ProtocolDataUnit Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.2 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="namespaceprotocol.html">protocol</a>      </li>
      <li><a class="el" href="classprotocol_1_1_protocol_data_unit.html">ProtocolDataUnit</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a> &#124;
<a href="#pac-methods">Package Functions</a>  </div>
  <div class="headertitle">
<h1>protocol.ProtocolDataUnit Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="protocol::ProtocolDataUnit" -->
<p>Represents a Protocol Data Unit (PDU).  
<a href="#_details">More...</a></p>
<!-- startSectionHeader --><div class="dynheader">
Inheritance diagram for protocol.ProtocolDataUnit:<!-- endSectionHeader --></div>
<!-- startSectionSummary --><!-- endSectionSummary --><!-- startSectionContent --><div class="dyncontent">
<div class="center"><img src="classprotocol_1_1_protocol_data_unit__inherit__graph.png" border="0" usemap="#protocol_8_protocol_data_unit_inherit__map" alt="Inheritance graph"/></div>
<map name="protocol_8_protocol_data_unit_inherit__map" id="protocol_8_protocol_data_unit_inherit__map">
<area shape="rect" id="node3" href="classprotocol_1_1_voice_p_d_u.html" title="VoicePDU &#45; The PDU that carries voice payload." alt="" coords="25,435,156,607"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center><!-- endSectionContent --></div>
<!-- startSectionHeader --><div class="dynheader">
Collaboration diagram for protocol.ProtocolDataUnit:<!-- endSectionHeader --></div>
<!-- startSectionSummary --><!-- endSectionSummary --><!-- startSectionContent --><div class="dyncontent">
<div class="center"><img src="classprotocol_1_1_protocol_data_unit__coll__graph.png" border="0" usemap="#protocol_8_protocol_data_unit_coll__map" alt="Collaboration graph"/></div>
<map name="protocol_8_protocol_data_unit_coll__map" id="protocol_8_protocol_data_unit_coll__map">
<area shape="rect" id="node2" href="classutils_1_1_octet_buffer.html" title="Encapsulates binary payload that can be manipulated on the octet (byte) level." alt="" coords="5,428,131,929"/><area shape="rect" id="node4" href="classprotocol_1_1_call_context.html" title="CallContext deals with all the packets that are part of a specific call." alt="" coords="155,385,347,973"/><area shape="rect" id="node6" href="classprotocol_1_1_remote_peer.html" title="Encapsulates the link between the UDP channel and a CallContext." alt="" coords="268,1041,431,1421"/><area shape="rect" id="node8" href="classprotocol_1_1_datagram_channel.html" title="Binds the UDP port." alt="" coords="372,1488,588,1885"/><area shape="rect" id="node13" href="classcrypto_1_1_symmetric_cipher.html" title="Instances of the Symmetric cipher class arew used to cipher peer&#45;to&#45;peer datagram packets..." alt="" coords="599,1067,761,1395"/><area shape="rect" id="node24" href="interfaceaudio_1_1_audio_interface.html" title="The abstract audio interface." alt="" coords="165,6,336,317"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center><!-- endSectionContent --></div>

<p><a href="classprotocol_1_1_protocol_data_unit-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprotocol_1_1_protocol_data_unit.html#af6db5c8ed06437869915ad83663d81ee">ProtocolDataUnit</a> (<a class="el" href="classprotocol_1_1_call_context.html">CallContext</a> <a class="el" href="classprotocol_1_1_protocol_data_unit.html#ab436670ab8904b08e584629c3622ab36">call</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The constructor for outbound PDUs.  <a href="#af6db5c8ed06437869915ad83663d81ee"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprotocol_1_1_protocol_data_unit.html#ae9079c5361312689736f4673223f792b">ProtocolDataUnit</a> (<a class="el" href="classprotocol_1_1_call_context.html">CallContext</a> <a class="el" href="classprotocol_1_1_protocol_data_unit.html#ab436670ab8904b08e584629c3622ab36">call</a>, byte[] pduOctets)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The constructor for inbound PDUs.  <a href="#ae9079c5361312689736f4673223f792b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprotocol_1_1_protocol_data_unit.html#adcf0b7fb88911dc0ef418bf0b010c622">sendPayload</a> (byte[] <a class="el" href="classprotocol_1_1_protocol_data_unit.html#af198e6050a9cdcdc4d5eb2c39cc90caa">payload</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a specified payload.  <a href="#adcf0b7fb88911dc0ef418bf0b010c622"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classprotocol_1_1_protocol_data_unit.html">ProtocolDataUnit</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprotocol_1_1_protocol_data_unit.html#a8987e7617a7106608f9afc07e280a24c">create</a> (<a class="el" href="classprotocol_1_1_call_context.html">CallContext</a> <a class="el" href="classprotocol_1_1_protocol_data_unit.html#ab436670ab8904b08e584629c3622ab36">call</a>, byte[] pduOctets)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new PDU of the correct type.  <a href="#a8987e7617a7106608f9afc07e280a24c"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprotocol_1_1_protocol_data_unit.html#a4cb975fb518414558e63036fb3bc6857">log</a> (String prefix)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Logs the time-stamp and the inbound/outbound stream sequence number.  <a href="#a4cb975fb518414558e63036fb3bc6857"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classprotocol_1_1_call_context.html">CallContext</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprotocol_1_1_protocol_data_unit.html#ab436670ab8904b08e584629c3622ab36">call</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The call object.  <a href="#ab436670ab8904b08e584629c3622ab36"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classutils_1_1_octet_buffer.html">OctetBuffer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprotocol_1_1_protocol_data_unit.html#af198e6050a9cdcdc4d5eb2c39cc90caa">payload</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The payload data.  <a href="#af198e6050a9cdcdc4d5eb2c39cc90caa"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprotocol_1_1_protocol_data_unit.html#a2bf6542a94f6b489edbb723b09d32bea">timeStamp</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The time-stamp.  <a href="#a2bf6542a94f6b489edbb723b09d32bea"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprotocol_1_1_protocol_data_unit.html#af303e67b1aae00e3e5748fc8ab1b470c">sourceCallNumber</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The source call number.  <a href="#af303e67b1aae00e3e5748fc8ab1b470c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprotocol_1_1_protocol_data_unit.html#a8432e992a1453a90f94e9dda5ada4348">destinationCallNumber</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The destination call number.  <a href="#a8432e992a1453a90f94e9dda5ada4348"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprotocol_1_1_protocol_data_unit.html#ab8467a75fc7dff100882408dffd979fa">outSeqNo</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The outbound stream sequence number.  <a href="#ab8467a75fc7dff100882408dffd979fa"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprotocol_1_1_protocol_data_unit.html#af83bd05423a3fb469960aaf061edf0d0">inSeqNo</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The inbound stream sequence number.  <a href="#af83bd05423a3fb469960aaf061edf0d0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprotocol_1_1_protocol_data_unit.html#a1aa4000d5ebf89d172c1ea2eae6b2da0">pduType</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The frame type.  <a href="#a1aa4000d5ebf89d172c1ea2eae6b2da0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprotocol_1_1_protocol_data_unit.html#ad994e9ff7b1d3ad7c61da1033a73f685">pduSubclass</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The subclass.  <a href="#ad994e9ff7b1d3ad7c61da1033a73f685"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static final int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprotocol_1_1_protocol_data_unit.html#aaa13c7e9b853efb29e3870eefd7a5ca7">VOICE</a> = 0x02</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">PDU Type: Data Audio Compression Format Raw Voice Data.  <a href="#aaa13c7e9b853efb29e3870eefd7a5ca7"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pac-methods"></a>
Package Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprotocol_1_1_protocol_data_unit.html#a152ab176c28dc7a915c9f31588fbf387">setTimestamp</a> (long v)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the time stamp as long.  <a href="#a152ab176c28dc7a915c9f31588fbf387"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprotocol_1_1_protocol_data_unit.html#adbc0e27e21f8d9c033caf4dac83103ec">getTimestamp</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the timestamp as long.  <a href="#adbc0e27e21f8d9c033caf4dac83103ec"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprotocol_1_1_protocol_data_unit.html#a8c8d7c2e0c448147e6ce05f0e9ef11ae">onArrivedPDU</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Arrived is called when a packet arrives.  <a href="#a8c8d7c2e0c448147e6ce05f0e9ef11ae"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprotocol_1_1_protocol_data_unit.html#ad49bf8ece9a5e1fa68e48400c9a814af">dump</a> (String prefix)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Logs this frame.  <a href="#ad49bf8ece9a5e1fa68e48400c9a814af"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Represents a Protocol Data Unit (PDU). </p>
<pre>
                       1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1        Octets:
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  +---------------+
  |1|     Source Call Number      |0|   Destination Call Number   |    0   1   2   3
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  +---------------+
  |                           Time-Stamp                          |    4   5   6   7
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  +---------------+
  |  Out Seq No   |   In Seq No   |0|  PDU Type   |   Sub Class   |    8   9  10  11
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  +---------------+
  |                                                               |   12  ...
  :                            Payload                            :
  |                                                               |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  </pre> 
<p>Definition at line <a class="el" href="_protocol_data_unit_8java_source.html#l00027">27</a> of file <a class="el" href="_protocol_data_unit_8java_source.html">ProtocolDataUnit.java</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="af6db5c8ed06437869915ad83663d81ee"></a><!-- doxytag: member="protocol::ProtocolDataUnit::ProtocolDataUnit" ref="af6db5c8ed06437869915ad83663d81ee" args="(CallContext call)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">protocol.ProtocolDataUnit.ProtocolDataUnit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classprotocol_1_1_call_context.html">CallContext</a>&#160;</td>
          <td class="paramname"> <em>call</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The constructor for outbound PDUs. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">call</td><td>The Call object </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_protocol_data_unit_8java_source.html#l00064">64</a> of file <a class="el" href="_protocol_data_unit_8java_source.html">ProtocolDataUnit.java</a>.</p>

<p>References <a class="el" href="_protocol_data_unit_8java_source.html#l00033">protocol.ProtocolDataUnit.call</a>, <a class="el" href="_protocol_data_unit_8java_source.html#l00045">protocol.ProtocolDataUnit.destinationCallNumber</a>, <a class="el" href="_call_context_8java_source.html#l00243">protocol.CallContext.getDestinationCallNumber()</a>, <a class="el" href="_call_context_8java_source.html#l00222">protocol.CallContext.getSourceCallNumber()</a>, <a class="el" href="_call_context_8java_source.html#l00112">protocol.CallContext.getTimestamp()</a>, <a class="el" href="_protocol_data_unit_8java_source.html#l00106">protocol.ProtocolDataUnit.setTimestamp()</a>, and <a class="el" href="_protocol_data_unit_8java_source.html#l00042">protocol.ProtocolDataUnit.sourceCallNumber</a>.</p>

<p>Referenced by <a class="el" href="_protocol_data_unit_8java_source.html#l00126">protocol.ProtocolDataUnit.create()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        this.<a class="code" href="classprotocol_1_1_protocol_data_unit.html#ab436670ab8904b08e584629c3622ab36" title="The call object.">call</a> = <a class="code" href="classprotocol_1_1_protocol_data_unit.html#ab436670ab8904b08e584629c3622ab36" title="The call object.">call</a>;
        
        this.<a class="code" href="classprotocol_1_1_protocol_data_unit.html#a8432e992a1453a90f94e9dda5ada4348" title="The destination call number.">destinationCallNumber</a> = <a class="code" href="classprotocol_1_1_protocol_data_unit.html#ab436670ab8904b08e584629c3622ab36" title="The call object.">call</a>.getDestinationCallNumber ();
        this.<a class="code" href="classprotocol_1_1_protocol_data_unit.html#af303e67b1aae00e3e5748fc8ab1b470c" title="The source call number.">sourceCallNumber</a>      = <a class="code" href="classprotocol_1_1_protocol_data_unit.html#ab436670ab8904b08e584629c3622ab36" title="The call object.">call</a>.getSourceCallNumber  ();
        
        this.<a class="code" href="classprotocol_1_1_protocol_data_unit.html#a152ab176c28dc7a915c9f31588fbf387" title="Sets the time stamp as long.">setTimestamp</a>( <a class="code" href="classprotocol_1_1_protocol_data_unit.html#ab436670ab8904b08e584629c3622ab36" title="The call object.">call</a>.getTimestamp () );
    }
</pre></div>
</div>
</div>
<a class="anchor" id="ae9079c5361312689736f4673223f792b"></a><!-- doxytag: member="protocol::ProtocolDataUnit::ProtocolDataUnit" ref="ae9079c5361312689736f4673223f792b" args="(CallContext call, byte[] pduOctets)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">protocol.ProtocolDataUnit.ProtocolDataUnit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classprotocol_1_1_call_context.html">CallContext</a>&#160;</td>
          <td class="paramname"> <em>call</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte[]&#160;</td>
          <td class="paramname"> <em>pduOctets</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The constructor for inbound PDUs. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">call</td><td>The Call object </td></tr>
    <tr><td class="paramname">pduOctets</td><td>The incoming message bytes </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_protocol_data_unit_8java_source.html#l00080">80</a> of file <a class="el" href="_protocol_data_unit_8java_source.html">ProtocolDataUnit.java</a>.</p>

<p>References <a class="el" href="_protocol_data_unit_8java_source.html#l00033">protocol.ProtocolDataUnit.call</a>, <a class="el" href="_protocol_data_unit_8java_source.html#l00045">protocol.ProtocolDataUnit.destinationCallNumber</a>, <a class="el" href="_octet_buffer_8java_source.html#l00197">utils.OctetBuffer.get()</a>, <a class="el" href="_octet_buffer_8java_source.html#l00165">utils.OctetBuffer.getInt()</a>, <a class="el" href="_octet_buffer_8java_source.html#l00112">utils.OctetBuffer.getShort()</a>, <a class="el" href="_protocol_data_unit_8java_source.html#l00051">protocol.ProtocolDataUnit.inSeqNo</a>, <a class="el" href="_protocol_data_unit_8java_source.html#l00048">protocol.ProtocolDataUnit.outSeqNo</a>, <a class="el" href="_protocol_data_unit_8java_source.html#l00036">protocol.ProtocolDataUnit.payload</a>, <a class="el" href="_protocol_data_unit_8java_source.html#l00057">protocol.ProtocolDataUnit.pduSubclass</a>, <a class="el" href="_protocol_data_unit_8java_source.html#l00054">protocol.ProtocolDataUnit.pduType</a>, <a class="el" href="_protocol_data_unit_8java_source.html#l00106">protocol.ProtocolDataUnit.setTimestamp()</a>, <a class="el" href="_octet_buffer_8java_source.html#l00051">utils.OctetBuffer.slice()</a>, <a class="el" href="_protocol_data_unit_8java_source.html#l00042">protocol.ProtocolDataUnit.sourceCallNumber</a>, <a class="el" href="_octet_buffer_8java_source.html#l00300">utils.OctetBuffer.toInt()</a>, and <a class="el" href="_octet_buffer_8java_source.html#l00039">utils.OctetBuffer.wrap()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        this.<a class="code" href="classprotocol_1_1_protocol_data_unit.html#ab436670ab8904b08e584629c3622ab36" title="The call object.">call</a> = <a class="code" href="classprotocol_1_1_protocol_data_unit.html#ab436670ab8904b08e584629c3622ab36" title="The call object.">call</a>;

        OctetBuffer buf = OctetBuffer.wrap( pduOctets );
        
        this.<a class="code" href="classprotocol_1_1_protocol_data_unit.html#af303e67b1aae00e3e5748fc8ab1b470c" title="The source call number.">sourceCallNumber</a> = buf.getShort ();
        this.<a class="code" href="classprotocol_1_1_protocol_data_unit.html#af303e67b1aae00e3e5748fc8ab1b470c" title="The source call number.">sourceCallNumber</a> &amp;= 0x7FFF; <span class="comment">// strip F bit</span>
        
        this.<a class="code" href="classprotocol_1_1_protocol_data_unit.html#a8432e992a1453a90f94e9dda5ada4348" title="The destination call number.">destinationCallNumber</a> = buf.getShort();
        this.<a class="code" href="classprotocol_1_1_protocol_data_unit.html#a8432e992a1453a90f94e9dda5ada4348" title="The destination call number.">destinationCallNumber</a> &amp;= 0x7FFF; <span class="comment">// strip R bit</span>
        
        this.<a class="code" href="classprotocol_1_1_protocol_data_unit.html#a152ab176c28dc7a915c9f31588fbf387" title="Sets the time stamp as long.">setTimestamp</a>( ( buf.getInt () + 0x100000000L ) &amp; 0xFFFFFFFFL );
        
        this.<a class="code" href="classprotocol_1_1_protocol_data_unit.html#ab8467a75fc7dff100882408dffd979fa" title="The outbound stream sequence number.">outSeqNo</a> = OctetBuffer.toInt( buf.get() );
        this.<a class="code" href="classprotocol_1_1_protocol_data_unit.html#af83bd05423a3fb469960aaf061edf0d0" title="The inbound stream sequence number.">inSeqNo</a> = OctetBuffer.toInt( buf.get() );
        
        this.<a class="code" href="classprotocol_1_1_protocol_data_unit.html#a1aa4000d5ebf89d172c1ea2eae6b2da0" title="The frame type.">pduType</a> = OctetBuffer.toInt( buf.get() );
        this.<a class="code" href="classprotocol_1_1_protocol_data_unit.html#ad994e9ff7b1d3ad7c61da1033a73f685" title="The subclass.">pduSubclass</a> = OctetBuffer.toInt( buf.get() );
        
        this.<a class="code" href="classprotocol_1_1_protocol_data_unit.html#af198e6050a9cdcdc4d5eb2c39cc90caa" title="The payload data.">payload</a> = buf.slice ();
    }
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a8987e7617a7106608f9afc07e280a24c"></a><!-- doxytag: member="protocol::ProtocolDataUnit::create" ref="a8987e7617a7106608f9afc07e280a24c" args="(CallContext call, byte[] pduOctets)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classprotocol_1_1_protocol_data_unit.html">ProtocolDataUnit</a> protocol.ProtocolDataUnit.create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classprotocol_1_1_call_context.html">CallContext</a>&#160;</td>
          <td class="paramname"> <em>call</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte[]&#160;</td>
          <td class="paramname"> <em>pduOctets</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates a new PDU of the correct type. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">call</td><td>Call </td></tr>
    <tr><td class="paramname">pduOctets</td><td>byte[] </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>a PDU </dd></dl>

<p>Definition at line <a class="el" href="_protocol_data_unit_8java_source.html#l00126">126</a> of file <a class="el" href="_protocol_data_unit_8java_source.html">ProtocolDataUnit.java</a>.</p>

<p>References <a class="el" href="_protocol_data_unit_8java_source.html#l00054">protocol.ProtocolDataUnit.pduType</a>, <a class="el" href="_protocol_data_unit_8java_source.html#l00064">protocol.ProtocolDataUnit.ProtocolDataUnit()</a>, <a class="el" href="_octet_buffer_8java_source.html#l00300">utils.OctetBuffer.toInt()</a>, and <a class="el" href="_protocol_data_unit_8java_source.html#l00030">protocol.ProtocolDataUnit.VOICE</a>.</p>

<p>Referenced by <a class="el" href="_remote_peer_8java_source.html#l00200">protocol.RemotePeer.parsePDU()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">if</span> ( pduOctets == null || pduOctets.length &lt; 12 ) {
            <span class="keywordflow">return</span> null;
        }

        <a class="code" href="classprotocol_1_1_protocol_data_unit.html#af6db5c8ed06437869915ad83663d81ee" title="The constructor for outbound PDUs.">ProtocolDataUnit</a> pdu = null;

        <span class="keywordtype">int</span> <a class="code" href="classprotocol_1_1_protocol_data_unit.html#a1aa4000d5ebf89d172c1ea2eae6b2da0" title="The frame type.">pduType</a> = OctetBuffer.toInt( pduOctets[10] ); 

        <span class="keywordflow">switch</span> ( pduType ) 
        {
            <span class="keywordflow">case</span> <a class="code" href="classprotocol_1_1_protocol_data_unit.html#aaa13c7e9b853efb29e3870eefd7a5ca7" title="PDU Type: Data Audio Compression Format Raw Voice Data.">VOICE</a>:
                pdu = <span class="keyword">new</span> VoicePDU( <a class="code" href="classprotocol_1_1_protocol_data_unit.html#ab436670ab8904b08e584629c3622ab36" title="The call object.">call</a>, pduOctets );
                <span class="keywordflow">break</span>;
            <span class="keywordflow">default</span>:
                <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.warn( <span class="stringliteral">&quot;Unknown PDU type &quot;</span> + pduType );
                pdu = <span class="keyword">new</span> <a class="code" href="classprotocol_1_1_protocol_data_unit.html#af6db5c8ed06437869915ad83663d81ee" title="The constructor for outbound PDUs.">ProtocolDataUnit</a>( <a class="code" href="classprotocol_1_1_protocol_data_unit.html#ab436670ab8904b08e584629c3622ab36" title="The call object.">call</a>, pduOctets ) {};
                <span class="keywordflow">break</span>;
        }

        <span class="keywordflow">return</span> pdu;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="ad49bf8ece9a5e1fa68e48400c9a814af"></a><!-- doxytag: member="protocol::ProtocolDataUnit::dump" ref="ad49bf8ece9a5e1fa68e48400c9a814af" args="(String prefix)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void protocol.ProtocolDataUnit.dump </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"> <em>prefix</em>&#160;)</td>
          <td><code> [package]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Logs this frame. </p>

<p>Definition at line <a class="el" href="_protocol_data_unit_8java_source.html#l00212">212</a> of file <a class="el" href="_protocol_data_unit_8java_source.html">ProtocolDataUnit.java</a>.</p>

<p>References <a class="el" href="_protocol_data_unit_8java_source.html#l00045">protocol.ProtocolDataUnit.destinationCallNumber</a>, <a class="el" href="_protocol_data_unit_8java_source.html#l00051">protocol.ProtocolDataUnit.inSeqNo</a>, <a class="el" href="_protocol_data_unit_8java_source.html#l00048">protocol.ProtocolDataUnit.outSeqNo</a>, <a class="el" href="_protocol_data_unit_8java_source.html#l00057">protocol.ProtocolDataUnit.pduSubclass</a>, <a class="el" href="_protocol_data_unit_8java_source.html#l00054">protocol.ProtocolDataUnit.pduType</a>, <a class="el" href="_protocol_data_unit_8java_source.html#l00042">protocol.ProtocolDataUnit.sourceCallNumber</a>, and <a class="el" href="_protocol_data_unit_8java_source.html#l00039">protocol.ProtocolDataUnit.timeStamp</a>.</p>

<p>Referenced by <a class="el" href="_voice_p_d_u_8java_source.html#l00056">protocol.VoicePDU.onArrivedPDU()</a>, <a class="el" href="_protocol_data_unit_8java_source.html#l00186">protocol.ProtocolDataUnit.onArrivedPDU()</a>, and <a class="el" href="_voice_p_d_u_sender_8java_source.html#l00047">protocol.VoicePDUSender.send()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">if</span> ( ! <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.isEnabled( <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.VERB ) ) {
            <span class="keywordflow">return</span>;
        }

        StringBuffer sb = <span class="keyword">new</span> StringBuffer ();
        
        <span class="keywordflow">if</span> ( prefix != null ) {
            sb.append( prefix ).append( <span class="stringliteral">&quot; &quot;</span> );
        }
        
        sb.append( <span class="stringliteral">&quot;PDU:&quot;</span> );
        sb.append( <span class="stringliteral">&quot;\n    Source Call = &quot;</span> ).append( <a class="code" href="classprotocol_1_1_protocol_data_unit.html#af303e67b1aae00e3e5748fc8ab1b470c" title="The source call number.">sourceCallNumber</a>      );
        sb.append( <span class="stringliteral">&quot;\n    Dest Call   = &quot;</span> ).append( <a class="code" href="classprotocol_1_1_protocol_data_unit.html#a8432e992a1453a90f94e9dda5ada4348" title="The destination call number.">destinationCallNumber</a> );
        sb.append( <span class="stringliteral">&quot;\n    Timestamp   = &quot;</span> ).append( <a class="code" href="classprotocol_1_1_protocol_data_unit.html#a2bf6542a94f6b489edbb723b09d32bea" title="The time-stamp.">timeStamp</a>             );
        sb.append( <span class="stringliteral">&quot;\n    Out Seq No  = &quot;</span> ).append( <a class="code" href="classprotocol_1_1_protocol_data_unit.html#ab8467a75fc7dff100882408dffd979fa" title="The outbound stream sequence number.">outSeqNo</a>              );
        sb.append( <span class="stringliteral">&quot;\n    In Seq No   = &quot;</span> ).append( <a class="code" href="classprotocol_1_1_protocol_data_unit.html#af83bd05423a3fb469960aaf061edf0d0" title="The inbound stream sequence number.">inSeqNo</a>               );
        sb.append( <span class="stringliteral">&quot;\n    PDU Type    = &quot;</span> ).append( <a class="code" href="classprotocol_1_1_protocol_data_unit.html#a1aa4000d5ebf89d172c1ea2eae6b2da0" title="The frame type.">pduType</a>               );
        sb.append( <span class="stringliteral">&quot;\n    Subclass    = &quot;</span> ).append( <a class="code" href="classprotocol_1_1_protocol_data_unit.html#ad994e9ff7b1d3ad7c61da1033a73f685" title="The subclass.">pduSubclass</a>           );
        
        <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.verb( sb.toString () );
    }
</pre></div>
</div>
</div>
<a class="anchor" id="adbc0e27e21f8d9c033caf4dac83103ec"></a><!-- doxytag: member="protocol::ProtocolDataUnit::getTimestamp" ref="adbc0e27e21f8d9c033caf4dac83103ec" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long protocol.ProtocolDataUnit.getTimestamp </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td><code> [package]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the timestamp as long. </p>

<p>Definition at line <a class="el" href="_protocol_data_unit_8java_source.html#l00114">114</a> of file <a class="el" href="_protocol_data_unit_8java_source.html">ProtocolDataUnit.java</a>.</p>

<p>References <a class="el" href="_protocol_data_unit_8java_source.html#l00039">protocol.ProtocolDataUnit.timeStamp</a>.</p>

<p>Referenced by <a class="el" href="_protocol_data_unit_8java_source.html#l00196">protocol.ProtocolDataUnit.log()</a>, <a class="el" href="_voice_p_d_u_8java_source.html#l00056">protocol.VoicePDU.onArrivedPDU()</a>, and <a class="el" href="_protocol_data_unit_8java_source.html#l00156">protocol.ProtocolDataUnit.sendPayload()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">return</span> this.<a class="code" href="classprotocol_1_1_protocol_data_unit.html#a2bf6542a94f6b489edbb723b09d32bea" title="The time-stamp.">timeStamp</a> != null ? this.<a class="code" href="classprotocol_1_1_protocol_data_unit.html#a2bf6542a94f6b489edbb723b09d32bea" title="The time-stamp.">timeStamp</a>.longValue () : 0;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a4cb975fb518414558e63036fb3bc6857"></a><!-- doxytag: member="protocol::ProtocolDataUnit::log" ref="a4cb975fb518414558e63036fb3bc6857" args="(String prefix)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void protocol.ProtocolDataUnit.log </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"> <em>prefix</em>&#160;)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Logs the time-stamp and the inbound/outbound stream sequence number. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">prefix</td><td>Text to include </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="classprotocol_1_1_voice_p_d_u.html#a5dddd4612b8c4916eb797845a124285a">protocol.VoicePDU</a>.</p>

<p>Definition at line <a class="el" href="_protocol_data_unit_8java_source.html#l00196">196</a> of file <a class="el" href="_protocol_data_unit_8java_source.html">ProtocolDataUnit.java</a>.</p>

<p>References <a class="el" href="_protocol_data_unit_8java_source.html#l00033">protocol.ProtocolDataUnit.call</a>, <a class="el" href="_protocol_data_unit_8java_source.html#l00114">protocol.ProtocolDataUnit.getTimestamp()</a>, <a class="el" href="_call_context_8java_source.html#l00112">protocol.CallContext.getTimestamp()</a>, <a class="el" href="_protocol_data_unit_8java_source.html#l00051">protocol.ProtocolDataUnit.inSeqNo</a>, and <a class="el" href="_protocol_data_unit_8java_source.html#l00048">protocol.ProtocolDataUnit.outSeqNo</a>.</p>

<p>Referenced by <a class="el" href="_protocol_data_unit_8java_source.html#l00156">protocol.ProtocolDataUnit.sendPayload()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        StringBuffer sb = <span class="keyword">new</span> StringBuffer( <span class="stringliteral">&quot;Time: &quot;</span> );
        
        sb.append( this.<a class="code" href="classprotocol_1_1_protocol_data_unit.html#ab436670ab8904b08e584629c3622ab36" title="The call object.">call</a>.getTimestamp () ).append( <span class="stringliteral">&quot;, &quot;</span> );
        sb.append( prefix );
        sb.append( <span class="stringliteral">&quot;, Timestamp: &quot;</span> ).append( this.<a class="code" href="classprotocol_1_1_protocol_data_unit.html#adbc0e27e21f8d9c033caf4dac83103ec" title="Returns the timestamp as long.">getTimestamp</a> () );
        sb.append( <span class="stringliteral">&quot;, iseq: &quot;</span>      ).append( <a class="code" href="classprotocol_1_1_protocol_data_unit.html#af83bd05423a3fb469960aaf061edf0d0" title="The inbound stream sequence number.">inSeqNo</a>              );
        sb.append( <span class="stringliteral">&quot;, oseq: &quot;</span>      ).append( <a class="code" href="classprotocol_1_1_protocol_data_unit.html#ab8467a75fc7dff100882408dffd979fa" title="The outbound stream sequence number.">outSeqNo</a>             );
        
        <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.debug( sb.toString () );
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a8c8d7c2e0c448147e6ce05f0e9ef11ae"></a><!-- doxytag: member="protocol::ProtocolDataUnit::onArrivedPDU" ref="a8c8d7c2e0c448147e6ce05f0e9ef11ae" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void protocol.ProtocolDataUnit.onArrivedPDU </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td><code> [package]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Arrived is called when a packet arrives. </p>
<p>This method doesn't do anything more than dumping the frame. It should be overridden in derived class. </p>

<p>Reimplemented in <a class="el" href="classprotocol_1_1_voice_p_d_u.html#a4448cc2523e46d3676f6a25818613058">protocol.VoicePDU</a>.</p>

<p>Definition at line <a class="el" href="_protocol_data_unit_8java_source.html#l00186">186</a> of file <a class="el" href="_protocol_data_unit_8java_source.html">ProtocolDataUnit.java</a>.</p>

<p>References <a class="el" href="_protocol_data_unit_8java_source.html#l00212">protocol.ProtocolDataUnit.dump()</a>.</p>

<p>Referenced by <a class="el" href="_remote_peer_8java_source.html#l00200">protocol.RemotePeer.parsePDU()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        <a class="code" href="classprotocol_1_1_protocol_data_unit.html#ad49bf8ece9a5e1fa68e48400c9a814af" title="Logs this frame.">dump</a>( <span class="stringliteral">&quot;Inbound&quot;</span> );
    }
</pre></div>
</div>
</div>
<a class="anchor" id="adcf0b7fb88911dc0ef418bf0b010c622"></a><!-- doxytag: member="protocol::ProtocolDataUnit::sendPayload" ref="adcf0b7fb88911dc0ef418bf0b010c622" args="(byte[] payload)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void protocol.ProtocolDataUnit.sendPayload </td>
          <td>(</td>
          <td class="paramtype">byte[]&#160;</td>
          <td class="paramname"> <em>payload</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sends a specified payload. </p>
<p>Payload represents the data field in the frame.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">payload</td><td>The payload data </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_protocol_data_unit_8java_source.html#l00156">156</a> of file <a class="el" href="_protocol_data_unit_8java_source.html">ProtocolDataUnit.java</a>.</p>

<p>References <a class="el" href="_octet_buffer_8java_source.html#l00027">utils.OctetBuffer.allocate()</a>, <a class="el" href="_protocol_data_unit_8java_source.html#l00033">protocol.ProtocolDataUnit.call</a>, <a class="el" href="_protocol_data_unit_8java_source.html#l00045">protocol.ProtocolDataUnit.destinationCallNumber</a>, <a class="el" href="_call_context_8java_source.html#l00083">protocol.CallContext.getInSeqNo()</a>, <a class="el" href="_call_context_8java_source.html#l00067">protocol.CallContext.getOutSeqNoInc()</a>, <a class="el" href="_protocol_data_unit_8java_source.html#l00114">protocol.ProtocolDataUnit.getTimestamp()</a>, <a class="el" href="_protocol_data_unit_8java_source.html#l00051">protocol.ProtocolDataUnit.inSeqNo</a>, <a class="el" href="_protocol_data_unit_8java_source.html#l00196">protocol.ProtocolDataUnit.log()</a>, <a class="el" href="_protocol_data_unit_8java_source.html#l00048">protocol.ProtocolDataUnit.outSeqNo</a>, <a class="el" href="_protocol_data_unit_8java_source.html#l00057">protocol.ProtocolDataUnit.pduSubclass</a>, <a class="el" href="_protocol_data_unit_8java_source.html#l00054">protocol.ProtocolDataUnit.pduType</a>, <a class="el" href="_octet_buffer_8java_source.html#l00208">utils.OctetBuffer.put()</a>, <a class="el" href="_octet_buffer_8java_source.html#l00249">utils.OctetBuffer.putChar()</a>, <a class="el" href="_octet_buffer_8java_source.html#l00181">utils.OctetBuffer.putInt()</a>, <a class="el" href="_call_context_8java_source.html#l00101">protocol.CallContext.send()</a>, and <a class="el" href="_protocol_data_unit_8java_source.html#l00042">protocol.ProtocolDataUnit.sourceCallNumber</a>.</p>

<p>Referenced by <a class="el" href="_voice_p_d_u_sender_8java_source.html#l00047">protocol.VoicePDUSender.send()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        this.<a class="code" href="classprotocol_1_1_protocol_data_unit.html#ab8467a75fc7dff100882408dffd979fa" title="The outbound stream sequence number.">outSeqNo</a> = this.<a class="code" href="classprotocol_1_1_protocol_data_unit.html#ab436670ab8904b08e584629c3622ab36" title="The call object.">call</a>.getOutSeqNoInc();
        this.<a class="code" href="classprotocol_1_1_protocol_data_unit.html#af83bd05423a3fb469960aaf061edf0d0" title="The inbound stream sequence number.">inSeqNo</a> = this.<a class="code" href="classprotocol_1_1_protocol_data_unit.html#ab436670ab8904b08e584629c3622ab36" title="The call object.">call</a>.getInSeqNo();

        OctetBuffer pdu = OctetBuffer.allocate( <a class="code" href="classprotocol_1_1_protocol_data_unit.html#af198e6050a9cdcdc4d5eb2c39cc90caa" title="The payload data.">payload</a>.length + 12 );
        
        pdu.putChar( (<span class="keywordtype">char</span>) ( this.<a class="code" href="classprotocol_1_1_protocol_data_unit.html#af303e67b1aae00e3e5748fc8ab1b470c" title="The source call number.">sourceCallNumber</a> | 0x8000 ) );
        pdu.putChar( (<span class="keywordtype">char</span>) this.<a class="code" href="classprotocol_1_1_protocol_data_unit.html#a8432e992a1453a90f94e9dda5ada4348" title="The destination call number.">destinationCallNumber</a> );
        
        <span class="keywordtype">long</span> ts = this.<a class="code" href="classprotocol_1_1_protocol_data_unit.html#adbc0e27e21f8d9c033caf4dac83103ec" title="Returns the timestamp as long.">getTimestamp</a> ();
        ts =  ( (0x100000000L &amp; ts) &gt; 0 ) ? ts - 0x100000000L : ts;
        pdu.putInt( (<span class="keywordtype">int</span>) ts );

        pdu.put( (byte) <a class="code" href="classprotocol_1_1_protocol_data_unit.html#ab8467a75fc7dff100882408dffd979fa" title="The outbound stream sequence number.">outSeqNo</a> );
        pdu.put( (byte) <a class="code" href="classprotocol_1_1_protocol_data_unit.html#af83bd05423a3fb469960aaf061edf0d0" title="The inbound stream sequence number.">inSeqNo</a> );
        pdu.put( (byte) <a class="code" href="classprotocol_1_1_protocol_data_unit.html#a1aa4000d5ebf89d172c1ea2eae6b2da0" title="The frame type.">pduType</a> );
        pdu.put( (byte) <a class="code" href="classprotocol_1_1_protocol_data_unit.html#ad994e9ff7b1d3ad7c61da1033a73f685" title="The subclass.">pduSubclass</a> );
        
        pdu.put( <a class="code" href="classprotocol_1_1_protocol_data_unit.html#af198e6050a9cdcdc4d5eb2c39cc90caa" title="The payload data.">payload</a> );
        
        <a class="code" href="classprotocol_1_1_protocol_data_unit.html#a4cb975fb518414558e63036fb3bc6857" title="Logs the time-stamp and the inbound/outbound stream sequence number.">log</a>( <span class="stringliteral">&quot;Sent&quot;</span> );
        
        this.<a class="code" href="classprotocol_1_1_protocol_data_unit.html#ab436670ab8904b08e584629c3622ab36" title="The call object.">call</a>.send( pdu );
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a152ab176c28dc7a915c9f31588fbf387"></a><!-- doxytag: member="protocol::ProtocolDataUnit::setTimestamp" ref="a152ab176c28dc7a915c9f31588fbf387" args="(long v)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void protocol.ProtocolDataUnit.setTimestamp </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"> <em>v</em>&#160;)</td>
          <td><code> [package]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the time stamp as long. </p>

<p>Definition at line <a class="el" href="_protocol_data_unit_8java_source.html#l00106">106</a> of file <a class="el" href="_protocol_data_unit_8java_source.html">ProtocolDataUnit.java</a>.</p>

<p>References <a class="el" href="_protocol_data_unit_8java_source.html#l00039">protocol.ProtocolDataUnit.timeStamp</a>.</p>

<p>Referenced by <a class="el" href="_protocol_data_unit_8java_source.html#l00064">protocol.ProtocolDataUnit.ProtocolDataUnit()</a>, and <a class="el" href="_voice_p_d_u_sender_8java_source.html#l00047">protocol.VoicePDUSender.send()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        this.<a class="code" href="classprotocol_1_1_protocol_data_unit.html#a2bf6542a94f6b489edbb723b09d32bea" title="The time-stamp.">timeStamp</a> = <span class="keyword">new</span> Long( v );
    }
</pre></div>
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="ab436670ab8904b08e584629c3622ab36"></a><!-- doxytag: member="protocol::ProtocolDataUnit::call" ref="ab436670ab8904b08e584629c3622ab36" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classprotocol_1_1_call_context.html">CallContext</a> <a class="el" href="classprotocol_1_1_protocol_data_unit.html#ab436670ab8904b08e584629c3622ab36">protocol.ProtocolDataUnit.call</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The call object. </p>

<p>Definition at line <a class="el" href="_protocol_data_unit_8java_source.html#l00033">33</a> of file <a class="el" href="_protocol_data_unit_8java_source.html">ProtocolDataUnit.java</a>.</p>

<p>Referenced by <a class="el" href="_protocol_data_unit_8java_source.html#l00196">protocol.ProtocolDataUnit.log()</a>, <a class="el" href="_voice_p_d_u_8java_source.html#l00056">protocol.VoicePDU.onArrivedPDU()</a>, <a class="el" href="_protocol_data_unit_8java_source.html#l00064">protocol.ProtocolDataUnit.ProtocolDataUnit()</a>, and <a class="el" href="_protocol_data_unit_8java_source.html#l00156">protocol.ProtocolDataUnit.sendPayload()</a>.</p>

</div>
</div>
<a class="anchor" id="a8432e992a1453a90f94e9dda5ada4348"></a><!-- doxytag: member="protocol::ProtocolDataUnit::destinationCallNumber" ref="a8432e992a1453a90f94e9dda5ada4348" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classprotocol_1_1_protocol_data_unit.html#a8432e992a1453a90f94e9dda5ada4348">protocol.ProtocolDataUnit.destinationCallNumber</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The destination call number. </p>

<p>Definition at line <a class="el" href="_protocol_data_unit_8java_source.html#l00045">45</a> of file <a class="el" href="_protocol_data_unit_8java_source.html">ProtocolDataUnit.java</a>.</p>

<p>Referenced by <a class="el" href="_protocol_data_unit_8java_source.html#l00212">protocol.ProtocolDataUnit.dump()</a>, <a class="el" href="_remote_peer_8java_source.html#l00200">protocol.RemotePeer.parsePDU()</a>, <a class="el" href="_protocol_data_unit_8java_source.html#l00064">protocol.ProtocolDataUnit.ProtocolDataUnit()</a>, and <a class="el" href="_protocol_data_unit_8java_source.html#l00156">protocol.ProtocolDataUnit.sendPayload()</a>.</p>

</div>
</div>
<a class="anchor" id="af83bd05423a3fb469960aaf061edf0d0"></a><!-- doxytag: member="protocol::ProtocolDataUnit::inSeqNo" ref="af83bd05423a3fb469960aaf061edf0d0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classprotocol_1_1_protocol_data_unit.html#af83bd05423a3fb469960aaf061edf0d0">protocol.ProtocolDataUnit.inSeqNo</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The inbound stream sequence number. </p>

<p>Definition at line <a class="el" href="_protocol_data_unit_8java_source.html#l00051">51</a> of file <a class="el" href="_protocol_data_unit_8java_source.html">ProtocolDataUnit.java</a>.</p>

<p>Referenced by <a class="el" href="_protocol_data_unit_8java_source.html#l00212">protocol.ProtocolDataUnit.dump()</a>, <a class="el" href="_protocol_data_unit_8java_source.html#l00196">protocol.ProtocolDataUnit.log()</a>, <a class="el" href="_protocol_data_unit_8java_source.html#l00080">protocol.ProtocolDataUnit.ProtocolDataUnit()</a>, and <a class="el" href="_protocol_data_unit_8java_source.html#l00156">protocol.ProtocolDataUnit.sendPayload()</a>.</p>

</div>
</div>
<a class="anchor" id="ab8467a75fc7dff100882408dffd979fa"></a><!-- doxytag: member="protocol::ProtocolDataUnit::outSeqNo" ref="ab8467a75fc7dff100882408dffd979fa" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classprotocol_1_1_protocol_data_unit.html#ab8467a75fc7dff100882408dffd979fa">protocol.ProtocolDataUnit.outSeqNo</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The outbound stream sequence number. </p>

<p>Definition at line <a class="el" href="_protocol_data_unit_8java_source.html#l00048">48</a> of file <a class="el" href="_protocol_data_unit_8java_source.html">ProtocolDataUnit.java</a>.</p>

<p>Referenced by <a class="el" href="_call_context_8java_source.html#l00270">protocol.CallContext.addIn()</a>, <a class="el" href="_protocol_data_unit_8java_source.html#l00212">protocol.ProtocolDataUnit.dump()</a>, <a class="el" href="_protocol_data_unit_8java_source.html#l00196">protocol.ProtocolDataUnit.log()</a>, <a class="el" href="_protocol_data_unit_8java_source.html#l00080">protocol.ProtocolDataUnit.ProtocolDataUnit()</a>, and <a class="el" href="_protocol_data_unit_8java_source.html#l00156">protocol.ProtocolDataUnit.sendPayload()</a>.</p>

</div>
</div>
<a class="anchor" id="af198e6050a9cdcdc4d5eb2c39cc90caa"></a><!-- doxytag: member="protocol::ProtocolDataUnit::payload" ref="af198e6050a9cdcdc4d5eb2c39cc90caa" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classutils_1_1_octet_buffer.html">OctetBuffer</a> <a class="el" href="classprotocol_1_1_protocol_data_unit.html#af198e6050a9cdcdc4d5eb2c39cc90caa">protocol.ProtocolDataUnit.payload</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The payload data. </p>

<p>Definition at line <a class="el" href="_protocol_data_unit_8java_source.html#l00036">36</a> of file <a class="el" href="_protocol_data_unit_8java_source.html">ProtocolDataUnit.java</a>.</p>

<p>Referenced by <a class="el" href="_voice_p_d_u_8java_source.html#l00056">protocol.VoicePDU.onArrivedPDU()</a>, and <a class="el" href="_protocol_data_unit_8java_source.html#l00080">protocol.ProtocolDataUnit.ProtocolDataUnit()</a>.</p>

</div>
</div>
<a class="anchor" id="ad994e9ff7b1d3ad7c61da1033a73f685"></a><!-- doxytag: member="protocol::ProtocolDataUnit::pduSubclass" ref="ad994e9ff7b1d3ad7c61da1033a73f685" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classprotocol_1_1_protocol_data_unit.html#ad994e9ff7b1d3ad7c61da1033a73f685">protocol.ProtocolDataUnit.pduSubclass</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The subclass. </p>

<p>Definition at line <a class="el" href="_protocol_data_unit_8java_source.html#l00057">57</a> of file <a class="el" href="_protocol_data_unit_8java_source.html">ProtocolDataUnit.java</a>.</p>

<p>Referenced by <a class="el" href="_protocol_data_unit_8java_source.html#l00212">protocol.ProtocolDataUnit.dump()</a>, <a class="el" href="_protocol_data_unit_8java_source.html#l00080">protocol.ProtocolDataUnit.ProtocolDataUnit()</a>, <a class="el" href="_protocol_data_unit_8java_source.html#l00156">protocol.ProtocolDataUnit.sendPayload()</a>, and <a class="el" href="_voice_p_d_u_8java_source.html#l00029">protocol.VoicePDU.VoicePDU()</a>.</p>

</div>
</div>
<a class="anchor" id="a1aa4000d5ebf89d172c1ea2eae6b2da0"></a><!-- doxytag: member="protocol::ProtocolDataUnit::pduType" ref="a1aa4000d5ebf89d172c1ea2eae6b2da0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classprotocol_1_1_protocol_data_unit.html#a1aa4000d5ebf89d172c1ea2eae6b2da0">protocol.ProtocolDataUnit.pduType</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The frame type. </p>

<p>Definition at line <a class="el" href="_protocol_data_unit_8java_source.html#l00054">54</a> of file <a class="el" href="_protocol_data_unit_8java_source.html">ProtocolDataUnit.java</a>.</p>

<p>Referenced by <a class="el" href="_protocol_data_unit_8java_source.html#l00126">protocol.ProtocolDataUnit.create()</a>, <a class="el" href="_protocol_data_unit_8java_source.html#l00212">protocol.ProtocolDataUnit.dump()</a>, <a class="el" href="_protocol_data_unit_8java_source.html#l00080">protocol.ProtocolDataUnit.ProtocolDataUnit()</a>, <a class="el" href="_protocol_data_unit_8java_source.html#l00156">protocol.ProtocolDataUnit.sendPayload()</a>, and <a class="el" href="_voice_p_d_u_8java_source.html#l00029">protocol.VoicePDU.VoicePDU()</a>.</p>

</div>
</div>
<a class="anchor" id="af303e67b1aae00e3e5748fc8ab1b470c"></a><!-- doxytag: member="protocol::ProtocolDataUnit::sourceCallNumber" ref="af303e67b1aae00e3e5748fc8ab1b470c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classprotocol_1_1_protocol_data_unit.html#af303e67b1aae00e3e5748fc8ab1b470c">protocol.ProtocolDataUnit.sourceCallNumber</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The source call number. </p>

<p>Definition at line <a class="el" href="_protocol_data_unit_8java_source.html#l00042">42</a> of file <a class="el" href="_protocol_data_unit_8java_source.html">ProtocolDataUnit.java</a>.</p>

<p>Referenced by <a class="el" href="_protocol_data_unit_8java_source.html#l00212">protocol.ProtocolDataUnit.dump()</a>, <a class="el" href="_remote_peer_8java_source.html#l00200">protocol.RemotePeer.parsePDU()</a>, <a class="el" href="_protocol_data_unit_8java_source.html#l00064">protocol.ProtocolDataUnit.ProtocolDataUnit()</a>, and <a class="el" href="_protocol_data_unit_8java_source.html#l00156">protocol.ProtocolDataUnit.sendPayload()</a>.</p>

</div>
</div>
<a class="anchor" id="a2bf6542a94f6b489edbb723b09d32bea"></a><!-- doxytag: member="protocol::ProtocolDataUnit::timeStamp" ref="a2bf6542a94f6b489edbb723b09d32bea" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Long <a class="el" href="classprotocol_1_1_protocol_data_unit.html#a2bf6542a94f6b489edbb723b09d32bea">protocol.ProtocolDataUnit.timeStamp</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The time-stamp. </p>

<p>Definition at line <a class="el" href="_protocol_data_unit_8java_source.html#l00039">39</a> of file <a class="el" href="_protocol_data_unit_8java_source.html">ProtocolDataUnit.java</a>.</p>

<p>Referenced by <a class="el" href="_protocol_data_unit_8java_source.html#l00212">protocol.ProtocolDataUnit.dump()</a>, <a class="el" href="_protocol_data_unit_8java_source.html#l00114">protocol.ProtocolDataUnit.getTimestamp()</a>, and <a class="el" href="_protocol_data_unit_8java_source.html#l00106">protocol.ProtocolDataUnit.setTimestamp()</a>.</p>

</div>
</div>
<a class="anchor" id="aaa13c7e9b853efb29e3870eefd7a5ca7"></a><!-- doxytag: member="protocol::ProtocolDataUnit::VOICE" ref="aaa13c7e9b853efb29e3870eefd7a5ca7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">final int <a class="el" href="classprotocol_1_1_protocol_data_unit.html#aaa13c7e9b853efb29e3870eefd7a5ca7">protocol.ProtocolDataUnit.VOICE</a> = 0x02<code> [static, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>PDU Type: Data Audio Compression Format Raw Voice Data. </p>

<p>Definition at line <a class="el" href="_protocol_data_unit_8java_source.html#l00030">30</a> of file <a class="el" href="_protocol_data_unit_8java_source.html">ProtocolDataUnit.java</a>.</p>

<p>Referenced by <a class="el" href="_protocol_data_unit_8java_source.html#l00126">protocol.ProtocolDataUnit.create()</a>, and <a class="el" href="_voice_p_d_u_8java_source.html#l00029">protocol.VoicePDU.VoicePDU()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>protocol/<a class="el" href="_protocol_data_unit_8java_source.html">ProtocolDataUnit.java</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Thu Dec 16 2010 14:44:44 for VoIP Kryptofon by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.2 </small></address>
</body>
</html>
