<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>VoIP Kryptofon: protocol.RemotePeer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.2 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="namespaceprotocol.html">protocol</a>      </li>
      <li><a class="el" href="classprotocol_1_1_remote_peer.html">RemotePeer</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pac-methods">Package Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<h1>protocol.RemotePeer Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="protocol::RemotePeer" -->
<p>Encapsulates the link between the UDP channel and a <a class="el" href="classprotocol_1_1_call_context.html" title="CallContext deals with all the packets that are part of a specific call.">CallContext</a>.  
<a href="#_details">More...</a></p>
<!-- startSectionHeader --><div class="dynheader">
Collaboration diagram for protocol.RemotePeer:<!-- endSectionHeader --></div>
<!-- startSectionSummary --><!-- endSectionSummary --><!-- startSectionContent --><div class="dyncontent">
<div class="center"><img src="classprotocol_1_1_remote_peer__coll__graph.png" border="0" usemap="#protocol_8_remote_peer_coll__map" alt="Collaboration graph"/></div>
<map name="protocol_8_remote_peer_coll__map" id="protocol_8_remote_peer_coll__map">
<area shape="rect" id="node2" href="classprotocol_1_1_datagram_channel.html" title="Binds the UDP port." alt="" coords="189,701,405,1099"/><area shape="rect" id="node17" href="classprotocol_1_1_call_context.html" title="CallContext deals with all the packets that are part of a specific call." alt="" coords="477,606,669,1194"/><area shape="rect" id="node7" href="classcrypto_1_1_symmetric_cipher.html" title="Instances of the Symmetric cipher class arew used to cipher peer&#45;to&#45;peer datagram packets..." alt="" coords="5,184,168,512"/><area shape="rect" id="node20" href="interfaceaudio_1_1_audio_interface.html" title="The abstract audio interface." alt="" coords="587,193,757,503"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center><!-- endSectionContent --></div>

<p><a href="classprotocol_1_1_remote_peer-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprotocol_1_1_remote_peer.html#acb5abc527db1fbb2dc464371772ea73e">RemotePeer</a> (<a class="el" href="classprotocol_1_1_datagram_channel.html">DatagramChannel</a> <a class="el" href="classprotocol_1_1_remote_peer.html#a379481a2d4787cbb0859df49cab40159">socket</a>, String <a class="el" href="classprotocol_1_1_remote_peer.html#a570e6a49d0a6be1795cb7346ff847417">remoteUserId</a>, InetAddress <a class="el" href="classprotocol_1_1_remote_peer.html#ae9d8bdd02d7cd38794bc6e35d10336ce">remoteAddr</a>, int <a class="el" href="classprotocol_1_1_remote_peer.html#aa4caf6ee0a82d5caa0ec7056ca00dca8">remotePort</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for the <a class="el" href="classprotocol_1_1_remote_peer.html" title="Encapsulates the link between the UDP channel and a CallContext.">RemotePeer</a> object.  <a href="#acb5abc527db1fbb2dc464371772ea73e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprotocol_1_1_remote_peer.html#a1ae75abb703f3e99b1cbfdb53388fb0d">getRemoteUserId</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns remote name (remote userid) of the peer.  <a href="#a1ae75abb703f3e99b1cbfdb53388fb0d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">synchronized long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprotocol_1_1_remote_peer.html#af25acabd53c4851792a89d76f6ee390a">receiverIdleTime</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns elapsed time since last received packet.  <a href="#af25acabd53c4851792a89d76f6ee390a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">synchronized void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprotocol_1_1_remote_peer.html#a90f6b6335394e311759bdee183ea53f9">addIncomingPDU</a> (byte[] data)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds an incoming PDUs (as bytes) to the PDUs queue.  <a href="#a90f6b6335394e311759bdee183ea53f9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprotocol_1_1_remote_peer.html#a8329f90fa7b084336582240dfe63a297">run</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Manages the incoming PDUs stored in the PDUs queue.  <a href="#a8329f90fa7b084336582240dfe63a297"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprotocol_1_1_remote_peer.html#a20a5b7e3c3b9dab599bd99b514b060e5">addNewCall</a> (<a class="el" href="classprotocol_1_1_call_context.html">CallContext</a> <a class="el" href="classprotocol_1_1_remote_peer.html#aadfabe86946b1739732765e53e478df8">call</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds the new (not owned) call to the peer.  <a href="#a20a5b7e3c3b9dab599bd99b514b060e5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprotocol_1_1_remote_peer.html#a3a4ff3baed500f37987d1592ec332142">cleanUp</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops transmitting and c cleans up resources (local and used by the calls).  <a href="#a3a4ff3baed500f37987d1592ec332142"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprotocol_1_1_remote_peer.html#a520b5fde9cbefc14cfcd459d02152210">send</a> (<a class="el" href="classutils_1_1_octet_buffer.html">OctetBuffer</a> pdu)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends packet to remote peer over datagram channel.  <a href="#a520b5fde9cbefc14cfcd459d02152210"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Vector&lt; byte[]&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprotocol_1_1_remote_peer.html#ab057a678a4a62fd7796f98e54f04114a">inboundPDUs</a> = null</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The queue of incoming PDUs from remote peer via our UDP channel.  <a href="#ab057a678a4a62fd7796f98e54f04114a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Thread&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprotocol_1_1_remote_peer.html#a5824e309a757043e1c744bba0e02864c">pduReceiverThread</a> = null</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The receiving process thread.  <a href="#a5824e309a757043e1c744bba0e02864c"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pac-methods"></a>
Package Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprotocol_1_1_remote_peer.html#a44d78ccc7ef25a398007b5804da4750f">parsePDU</a> (byte[] octets)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Deals with newly received PDU octets.  <a href="#a44d78ccc7ef25a398007b5804da4750f"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">synchronized void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprotocol_1_1_remote_peer.html#a9cdd69760c674b2c9fc541123cc8e806">startReceiver</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This method starts the receiver thread for inbound PDUs.  <a href="#a9cdd69760c674b2c9fc541123cc8e806"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classprotocol_1_1_datagram_channel.html">DatagramChannel</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprotocol_1_1_remote_peer.html#a379481a2d4787cbb0859df49cab40159">socket</a> = null</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The UDP channel.  <a href="#a379481a2d4787cbb0859df49cab40159"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classprotocol_1_1_call_context.html">CallContext</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprotocol_1_1_remote_peer.html#aadfabe86946b1739732765e53e478df8">call</a> = null</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The call context.  <a href="#aadfabe86946b1739732765e53e478df8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprotocol_1_1_remote_peer.html#a570e6a49d0a6be1795cb7346ff847417">remoteUserId</a> = null</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">PBXClient's (chat server's) User ID of the remote peer.  <a href="#a570e6a49d0a6be1795cb7346ff847417"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">InetAddress&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprotocol_1_1_remote_peer.html#ae9d8bdd02d7cd38794bc6e35d10336ce">remoteAddr</a> = null</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Remote IP address where to send PDUs.  <a href="#ae9d8bdd02d7cd38794bc6e35d10336ce"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprotocol_1_1_remote_peer.html#aa4caf6ee0a82d5caa0ec7056ca00dca8">remotePort</a> = -1</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Remote UDP port where to send PDUs.  <a href="#aa4caf6ee0a82d5caa0ec7056ca00dca8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">volatile boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprotocol_1_1_remote_peer.html#ab2908aa753971ac19a29e46bd058a8d7">transmitting</a> = false</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates whether communication with peer is active or not.  <a href="#ab2908aa753971ac19a29e46bd058a8d7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classprotocol_1_1_remote_peer.html#ac7299e70de121316a047039ef301f1ff">lastReceiverTimestamp</a> = 0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The time-stamp of the last received PDU.  <a href="#ac7299e70de121316a047039ef301f1ff"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Encapsulates the link between the UDP channel and a <a class="el" href="classprotocol_1_1_call_context.html" title="CallContext deals with all the packets that are part of a specific call.">CallContext</a>. </p>
<p>UDP channel receives packets from all remote peers and dispatches them to particular <a class="el" href="classprotocol_1_1_remote_peer.html" title="Encapsulates the link between the UDP channel and a CallContext.">RemotePeer</a> handler. <a class="el" href="classprotocol_1_1_remote_peer.html" title="Encapsulates the link between the UDP channel and a CallContext.">RemotePeer</a> might have multiple calls in real PBX, howerever, this implementation allows only single <a class="el" href="classprotocol_1_1_call_context.html" title="CallContext deals with all the packets that are part of a specific call.">CallContext</a> per <a class="el" href="classprotocol_1_1_remote_peer.html" title="Encapsulates the link between the UDP channel and a CallContext.">RemotePeer</a>.</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Mikica B Kocic </dd></dl>

<p>Definition at line <a class="el" href="_remote_peer_8java_source.html#l00019">19</a> of file <a class="el" href="_remote_peer_8java_source.html">RemotePeer.java</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="acb5abc527db1fbb2dc464371772ea73e"></a><!-- doxytag: member="protocol::RemotePeer::RemotePeer" ref="acb5abc527db1fbb2dc464371772ea73e" args="(DatagramChannel socket, String remoteUserId, InetAddress remoteAddr, int remotePort)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">protocol.RemotePeer.RemotePeer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classprotocol_1_1_datagram_channel.html">DatagramChannel</a>&#160;</td>
          <td class="paramname"> <em>socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"> <em>remoteUserId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">InetAddress&#160;</td>
          <td class="paramname"> <em>remoteAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"> <em>remotePort</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructor for the <a class="el" href="classprotocol_1_1_remote_peer.html" title="Encapsulates the link between the UDP channel and a CallContext.">RemotePeer</a> object. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">socket</td><td>instance of <a class="el" href="classprotocol_1_1_datagram_channel.html" title="Binds the UDP port.">DatagramChannel</a> used for communication </td></tr>
    <tr><td class="paramname">remoteUserId</td><td>peer's user ID </td></tr>
    <tr><td class="paramname">remoteAddr</td><td>peer's IP address </td></tr>
    <tr><td class="paramname">remotePort</td><td>peer's UDP port listening for ours PDUs </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_remote_peer_8java_source.html#l00056">56</a> of file <a class="el" href="_remote_peer_8java_source.html">RemotePeer.java</a>.</p>

<p>References <a class="el" href="_datagram_channel_8java_source.html#l00117">protocol.DatagramChannel.addNewPeer()</a>, <a class="el" href="_remote_peer_8java_source.html#l00025">protocol.RemotePeer.call</a>, <a class="el" href="_remote_peer_8java_source.html#l00037">protocol.RemotePeer.inboundPDUs</a>, <a class="el" href="_remote_peer_8java_source.html#l00031">protocol.RemotePeer.remoteAddr</a>, <a class="el" href="_remote_peer_8java_source.html#l00034">protocol.RemotePeer.remotePort</a>, <a class="el" href="_remote_peer_8java_source.html#l00028">protocol.RemotePeer.remoteUserId</a>, <a class="el" href="_remote_peer_8java_source.html#l00022">protocol.RemotePeer.socket</a>, and <a class="el" href="_remote_peer_8java_source.html#l00091">protocol.RemotePeer.startReceiver()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        this.<a class="code" href="classprotocol_1_1_remote_peer.html#a570e6a49d0a6be1795cb7346ff847417" title="PBXClient&amp;#39;s (chat server&amp;#39;s) User ID of the remote peer.">remoteUserId</a> = <a class="code" href="classprotocol_1_1_remote_peer.html#a570e6a49d0a6be1795cb7346ff847417" title="PBXClient&amp;#39;s (chat server&amp;#39;s) User ID of the remote peer.">remoteUserId</a>;
        this.<a class="code" href="classprotocol_1_1_remote_peer.html#ae9d8bdd02d7cd38794bc6e35d10336ce" title="Remote IP address where to send PDUs.">remoteAddr</a>   = <a class="code" href="classprotocol_1_1_remote_peer.html#ae9d8bdd02d7cd38794bc6e35d10336ce" title="Remote IP address where to send PDUs.">remoteAddr</a>;
        this.<a class="code" href="classprotocol_1_1_remote_peer.html#aa4caf6ee0a82d5caa0ec7056ca00dca8" title="Remote UDP port where to send PDUs.">remotePort</a>   = <a class="code" href="classprotocol_1_1_remote_peer.html#aa4caf6ee0a82d5caa0ec7056ca00dca8" title="Remote UDP port where to send PDUs.">remotePort</a>;
        
        this.<a class="code" href="classprotocol_1_1_remote_peer.html#aadfabe86946b1739732765e53e478df8" title="The call context.">call</a> = null;

        this.<a class="code" href="classprotocol_1_1_remote_peer.html#ab057a678a4a62fd7796f98e54f04114a" title="The queue of incoming PDUs from remote peer via our UDP channel.">inboundPDUs</a> = <span class="keyword">new</span> Vector&lt;byte[]&gt; ();
        
        <span class="keyword">synchronized</span>( <a class="code" href="classprotocol_1_1_remote_peer.html#a379481a2d4787cbb0859df49cab40159" title="The UDP channel.">socket</a> )
        {
            this.<a class="code" href="classprotocol_1_1_remote_peer.html#a379481a2d4787cbb0859df49cab40159" title="The UDP channel.">socket</a> = <a class="code" href="classprotocol_1_1_remote_peer.html#a379481a2d4787cbb0859df49cab40159" title="The UDP channel.">socket</a>;
            this.<a class="code" href="classprotocol_1_1_remote_peer.html#a379481a2d4787cbb0859df49cab40159" title="The UDP channel.">socket</a>.addNewPeer( <span class="keyword">this</span> );
            
            <span class="keywordflow">if</span> ( this.<a class="code" href="classprotocol_1_1_remote_peer.html#ae9d8bdd02d7cd38794bc6e35d10336ce" title="Remote IP address where to send PDUs.">remoteAddr</a> != null 
                    &amp;&amp; this.<a class="code" href="classprotocol_1_1_remote_peer.html#aa4caf6ee0a82d5caa0ec7056ca00dca8" title="Remote UDP port where to send PDUs.">remotePort</a> &gt; 0 &amp;&amp; this.<a class="code" href="classprotocol_1_1_remote_peer.html#aa4caf6ee0a82d5caa0ec7056ca00dca8" title="Remote UDP port where to send PDUs.">remotePort</a> &lt;= 65535 ) 
            {
                this.<a class="code" href="classprotocol_1_1_remote_peer.html#a9cdd69760c674b2c9fc541123cc8e806" title="This method starts the receiver thread for inbound PDUs.">startReceiver</a> ();
            }
        }
    }
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a90f6b6335394e311759bdee183ea53f9"></a><!-- doxytag: member="protocol::RemotePeer::addIncomingPDU" ref="a90f6b6335394e311759bdee183ea53f9" args="(byte[] data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">synchronized void protocol.RemotePeer.addIncomingPDU </td>
          <td>(</td>
          <td class="paramtype">byte[]&#160;</td>
          <td class="paramname"> <em>data</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Adds an incoming PDUs (as bytes) to the PDUs queue. </p>
<p>We are still on the recv thread; this data was received by binder and passed to us via friend. The PDUs are stored in the queue and we deal with them on our own thread to relief the recv thread. In other words, this is the last thing we do on the recv thread!</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The PDU octets </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_remote_peer_8java_source.html#l00126">126</a> of file <a class="el" href="_remote_peer_8java_source.html">RemotePeer.java</a>.</p>

<p>References <a class="el" href="_remote_peer_8java_source.html#l00037">protocol.RemotePeer.inboundPDUs</a>, <a class="el" href="_remote_peer_8java_source.html#l00046">protocol.RemotePeer.lastReceiverTimestamp</a>, and <a class="el" href="_remote_peer_8java_source.html#l00043">protocol.RemotePeer.transmitting</a>.</p>

<p>Referenced by <a class="el" href="_datagram_channel_8java_source.html#l00196">protocol.DatagramChannel.run()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">if</span> ( ! this.<a class="code" href="classprotocol_1_1_remote_peer.html#ab2908aa753971ac19a29e46bd058a8d7" title="Indicates whether communication with peer is active or not.">transmitting</a> || data == null ) {
            <span class="keywordflow">return</span>;
        }

        this.<a class="code" href="classprotocol_1_1_remote_peer.html#ac7299e70de121316a047039ef301f1ff" title="The time-stamp of the last received PDU.">lastReceiverTimestamp</a> = System.currentTimeMillis ();
        this.<a class="code" href="classprotocol_1_1_remote_peer.html#ab057a678a4a62fd7796f98e54f04114a" title="The queue of incoming PDUs from remote peer via our UDP channel.">inboundPDUs</a>.addElement( data );
        this.notifyAll ();
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a20a5b7e3c3b9dab599bd99b514b060e5"></a><!-- doxytag: member="protocol::RemotePeer::addNewCall" ref="a20a5b7e3c3b9dab599bd99b514b060e5" args="(CallContext call)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void protocol.RemotePeer.addNewCall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classprotocol_1_1_call_context.html">CallContext</a>&#160;</td>
          <td class="paramname"> <em>call</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Adds the new (not owned) call to the peer. </p>

<p>Definition at line <a class="el" href="_remote_peer_8java_source.html#l00228">228</a> of file <a class="el" href="_remote_peer_8java_source.html">RemotePeer.java</a>.</p>

<p>References <a class="el" href="_remote_peer_8java_source.html#l00025">protocol.RemotePeer.call</a>, <a class="el" href="_call_context_8java_source.html#l00231">protocol.CallContext.setDestinationCallNumber()</a>, and <a class="el" href="_call_context_8java_source.html#l00210">protocol.CallContext.setSourceCallNumber()</a>.</p>

<p>Referenced by <a class="el" href="_call_context_8java_source.html#l00053">protocol.CallContext.CallContext()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        this.<a class="code" href="classprotocol_1_1_remote_peer.html#aadfabe86946b1739732765e53e478df8" title="The call context.">call</a> = <a class="code" href="classprotocol_1_1_remote_peer.html#aadfabe86946b1739732765e53e478df8" title="The call context.">call</a>;
        
        <span class="comment">/* Tag the call with call numbers. </span>
<span class="comment">         * Note: Tagging is hard-coded here, but this place might be a core </span>
<span class="comment">         * for real PBX call-id handling.</span>
<span class="comment">         */</span>
        this.<a class="code" href="classprotocol_1_1_remote_peer.html#aadfabe86946b1739732765e53e478df8" title="The call context.">call</a>.setSourceCallNumber( 0x3141 );
        this.<a class="code" href="classprotocol_1_1_remote_peer.html#aadfabe86946b1739732765e53e478df8" title="The call context.">call</a>.setDestinationCallNumber( 0x5926 );
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a3a4ff3baed500f37987d1592ec332142"></a><!-- doxytag: member="protocol::RemotePeer::cleanUp" ref="a3a4ff3baed500f37987d1592ec332142" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void protocol.RemotePeer.cleanUp </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Stops transmitting and c cleans up resources (local and used by the calls). </p>

<p>Definition at line <a class="el" href="_remote_peer_8java_source.html#l00243">243</a> of file <a class="el" href="_remote_peer_8java_source.html">RemotePeer.java</a>.</p>

<p>References <a class="el" href="_remote_peer_8java_source.html#l00025">protocol.RemotePeer.call</a>, <a class="el" href="_call_context_8java_source.html#l00285">protocol.CallContext.cleanUp()</a>, and <a class="el" href="_remote_peer_8java_source.html#l00043">protocol.RemotePeer.transmitting</a>.</p>

<p>Referenced by <a class="el" href="_datagram_channel_8java_source.html#l00153">protocol.DatagramChannel.removePeer()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">if</span> ( this.<a class="code" href="classprotocol_1_1_remote_peer.html#aadfabe86946b1739732765e53e478df8" title="The call context.">call</a> != null )
        {
            this.<a class="code" href="classprotocol_1_1_remote_peer.html#aadfabe86946b1739732765e53e478df8" title="The call context.">call</a>.cleanUp ();
            this.<a class="code" href="classprotocol_1_1_remote_peer.html#ab2908aa753971ac19a29e46bd058a8d7" title="Indicates whether communication with peer is active or not.">transmitting</a> = <span class="keyword">false</span>;
        }
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a1ae75abb703f3e99b1cbfdb53388fb0d"></a><!-- doxytag: member="protocol::RemotePeer::getRemoteUserId" ref="a1ae75abb703f3e99b1cbfdb53388fb0d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String protocol.RemotePeer.getRemoteUserId </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns remote name (remote userid) of the peer. </p>

<p>Definition at line <a class="el" href="_remote_peer_8java_source.html#l00083">83</a> of file <a class="el" href="_remote_peer_8java_source.html">RemotePeer.java</a>.</p>

<p>References <a class="el" href="_remote_peer_8java_source.html#l00028">protocol.RemotePeer.remoteUserId</a>.</p>

<p>Referenced by <a class="el" href="_crypto_phone_app_8java_source.html#l01188">CryptoPhoneApp.executeCommand()</a>, <a class="el" href="_crypto_phone_app_8java_source.html#l00738">CryptoPhoneApp.mainTimerEvent()</a>, and <a class="el" href="_crypto_phone_app_8java_source.html#l01121">CryptoPhoneApp.sendInstantMessage()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">return</span> <a class="code" href="classprotocol_1_1_remote_peer.html#a570e6a49d0a6be1795cb7346ff847417" title="PBXClient&amp;#39;s (chat server&amp;#39;s) User ID of the remote peer.">remoteUserId</a>;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a44d78ccc7ef25a398007b5804da4750f"></a><!-- doxytag: member="protocol::RemotePeer::parsePDU" ref="a44d78ccc7ef25a398007b5804da4750f" args="(byte[] octets)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void protocol.RemotePeer.parsePDU </td>
          <td>(</td>
          <td class="paramtype">byte[]&#160;</td>
          <td class="paramname"> <em>octets</em>&#160;)</td>
          <td><code> [package]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Deals with newly received PDU octets. </p>
<p>This method encapsulates them into a instance of PDU class, deal with internal counters, sends an acknowledgement and notifies the PDU it has arrived. </p>

<p>Definition at line <a class="el" href="_remote_peer_8java_source.html#l00200">200</a> of file <a class="el" href="_remote_peer_8java_source.html">RemotePeer.java</a>.</p>

<p>References <a class="el" href="_remote_peer_8java_source.html#l00025">protocol.RemotePeer.call</a>, <a class="el" href="_protocol_data_unit_8java_source.html#l00126">protocol.ProtocolDataUnit.create()</a>, <a class="el" href="_protocol_data_unit_8java_source.html#l00045">protocol.ProtocolDataUnit.destinationCallNumber</a>, <a class="el" href="_protocol_data_unit_8java_source.html#l00186">protocol.ProtocolDataUnit.onArrivedPDU()</a>, and <a class="el" href="_protocol_data_unit_8java_source.html#l00042">protocol.ProtocolDataUnit.sourceCallNumber</a>.</p>

<p>Referenced by <a class="el" href="_remote_peer_8java_source.html#l00142">protocol.RemotePeer.run()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">if</span> ( this.<a class="code" href="classprotocol_1_1_remote_peer.html#aadfabe86946b1739732765e53e478df8" title="The call context.">call</a> != null &amp;&amp; octets != null ) 
        {
            <span class="comment">/* Parse PDU</span>
<span class="comment">             */</span>
            ProtocolDataUnit pdu = ProtocolDataUnit.create( this.<a class="code" href="classprotocol_1_1_remote_peer.html#aadfabe86946b1739732765e53e478df8" title="The call context.">call</a>, octets );

            <span class="comment">/* Dispatch PDU if it is tagged with valid call numbers.</span>
<span class="comment">             * Note: Dispatching is hard-coded here, but this place might be</span>
<span class="comment">             * a core for real PBX call-id handling.</span>
<span class="comment">             */</span>
            <span class="keywordflow">if</span> ( pdu != null &amp;&amp; pdu.destinationCallNumber == 0x5926 
                             &amp;&amp; pdu.sourceCallNumber == 0x3141 )
            {
                pdu.onArrivedPDU ();
            }
            <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( pdu != null )
            {
                <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.warn( <span class="stringliteral">&quot;Ignored PDU with destCall# &quot;</span> + pdu.destinationCallNumber
                        + <span class="stringliteral">&quot;, srcCalL# &quot;</span> + pdu.sourceCallNumber );
            }
        }
    }
</pre></div>
</div>
</div>
<a class="anchor" id="af25acabd53c4851792a89d76f6ee390a"></a><!-- doxytag: member="protocol::RemotePeer::receiverIdleTime" ref="af25acabd53c4851792a89d76f6ee390a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">synchronized long protocol.RemotePeer.receiverIdleTime </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns elapsed time since last received packet. </p>

<p>Definition at line <a class="el" href="_remote_peer_8java_source.html#l00112">112</a> of file <a class="el" href="_remote_peer_8java_source.html">RemotePeer.java</a>.</p>

<p>References <a class="el" href="_remote_peer_8java_source.html#l00046">protocol.RemotePeer.lastReceiverTimestamp</a>.</p>

<p>Referenced by <a class="el" href="_datagram_channel_8java_source.html#l00141">protocol.DatagramChannel.isPearDead()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">return</span> System.currentTimeMillis () - this.<a class="code" href="classprotocol_1_1_remote_peer.html#ac7299e70de121316a047039ef301f1ff" title="The time-stamp of the last received PDU.">lastReceiverTimestamp</a>;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a8329f90fa7b084336582240dfe63a297"></a><!-- doxytag: member="protocol::RemotePeer::run" ref="a8329f90fa7b084336582240dfe63a297" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void protocol.RemotePeer.run </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Manages the incoming PDUs stored in the PDUs queue. </p>
<p>This thread is started by <a class="el" href="classprotocol_1_1_remote_peer.html#a9cdd69760c674b2c9fc541123cc8e806" title="This method starts the receiver thread for inbound PDUs.">startReceiver()</a> and run separately from the binder's receiver thread. </p>

<p>Definition at line <a class="el" href="_remote_peer_8java_source.html#l00142">142</a> of file <a class="el" href="_remote_peer_8java_source.html">RemotePeer.java</a>.</p>

<p>References <a class="el" href="_remote_peer_8java_source.html#l00025">protocol.RemotePeer.call</a>, <a class="el" href="_remote_peer_8java_source.html#l00037">protocol.RemotePeer.inboundPDUs</a>, <a class="el" href="_remote_peer_8java_source.html#l00200">protocol.RemotePeer.parsePDU()</a>, <a class="el" href="_remote_peer_8java_source.html#l00022">protocol.RemotePeer.socket</a>, and <a class="el" href="_remote_peer_8java_source.html#l00043">protocol.RemotePeer.transmitting</a>.</p>
<div class="fragment"><pre class="fragment">    {
        <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.trace( <span class="stringliteral">&quot;Thread started&quot;</span> );
        
        <span class="keywordflow">while</span> ( this.<a class="code" href="classprotocol_1_1_remote_peer.html#ab2908aa753971ac19a29e46bd058a8d7" title="Indicates whether communication with peer is active or not.">transmitting</a> )
        {
            Object[] pdusToSend = <span class="keyword">new</span> Object[0];
            
            <span class="keyword">synchronized</span>( this ) 
            {
                <span class="keywordflow">try</span> {
                    this.wait ();
                }
                <span class="keywordflow">catch</span>( InterruptedException e ) {
                    <span class="comment">/* ignored */</span>
                }
                
                <span class="keywordtype">int</span> pduCount = this.<a class="code" href="classprotocol_1_1_remote_peer.html#ab057a678a4a62fd7796f98e54f04114a" title="The queue of incoming PDUs from remote peer via our UDP channel.">inboundPDUs</a>.size ();
                
                <span class="comment">// Do some smart stuff here? (limit the take to only 20 PDUs?)</span>
                <span class="comment">// You&#39;d hope that normally we&#39;d get 1 or maybe 2 PDUs here.</span>
                <span class="comment">//</span>
                <span class="keywordflow">if</span> ( pduCount &gt; 0 )
                {
                    pdusToSend = <span class="keyword">new</span> Object[ pduCount ];
                    <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0; i &lt; pduCount; ++i ) {
                        pdusToSend[i] = this.<a class="code" href="classprotocol_1_1_remote_peer.html#ab057a678a4a62fd7796f98e54f04114a" title="The queue of incoming PDUs from remote peer via our UDP channel.">inboundPDUs</a>.elementAt(i);
                    }
                    this.<a class="code" href="classprotocol_1_1_remote_peer.html#ab057a678a4a62fd7796f98e54f04114a" title="The queue of incoming PDUs from remote peer via our UDP channel.">inboundPDUs</a>.removeAllElements ();
                }
            }
            
            <span class="comment">// After releasing the lock, let&#39;s deal with the list...</span>
            <span class="comment">// we are now on the thread of the call, any time we waste is</span>
            <span class="comment">// our own.</span>
            <span class="comment">// should really sort these into sequence before we dispose of them.</span>
            
            <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; pdusToSend.length; ++i )
            {
                <span class="keywordflow">try</span> {
                    <a class="code" href="classprotocol_1_1_remote_peer.html#a44d78ccc7ef25a398007b5804da4750f" title="Deals with newly received PDU octets.">parsePDU</a>( (byte[]) pdusToSend[i] );
                }
                <span class="keywordflow">catch</span>( Throwable e ) {
                    <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.error( <span class="stringliteral">&quot;ParsePDU failed; &quot;</span> + e.toString () );
                    <a class="code" href="namespaceutils.html#acdfe27a467c82e100aa74ce6d94e9b71" title="Common application message logger facility (static implementation)">Log</a>.where ();
                }
            }
        }
        
        this.<a class="code" href="classprotocol_1_1_remote_peer.html#a379481a2d4787cbb0859df49cab40159" title="The UDP channel.">socket</a> = null;
        this.<a class="code" href="classprotocol_1_1_remote_peer.html#aadfabe86946b1739732765e53e478df8" title="The call context.">call</a> = null;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a520b5fde9cbefc14cfcd459d02152210"></a><!-- doxytag: member="protocol::RemotePeer::send" ref="a520b5fde9cbefc14cfcd459d02152210" args="(OctetBuffer pdu)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void protocol.RemotePeer.send </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classutils_1_1_octet_buffer.html">OctetBuffer</a>&#160;</td>
          <td class="paramname"> <em>pdu</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sends packet to remote peer over datagram channel. </p>

<p>Definition at line <a class="el" href="_remote_peer_8java_source.html#l00255">255</a> of file <a class="el" href="_remote_peer_8java_source.html">RemotePeer.java</a>.</p>

<p>References <a class="el" href="_remote_peer_8java_source.html#l00031">protocol.RemotePeer.remoteAddr</a>, <a class="el" href="_remote_peer_8java_source.html#l00034">protocol.RemotePeer.remotePort</a>, <a class="el" href="_datagram_channel_8java_source.html#l00245">protocol.DatagramChannel.send()</a>, <a class="el" href="_remote_peer_8java_source.html#l00022">protocol.RemotePeer.socket</a>, and <a class="el" href="_remote_peer_8java_source.html#l00043">protocol.RemotePeer.transmitting</a>.</p>

<p>Referenced by <a class="el" href="_call_context_8java_source.html#l00101">protocol.CallContext.send()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">if</span> ( this.<a class="code" href="classprotocol_1_1_remote_peer.html#ab2908aa753971ac19a29e46bd058a8d7" title="Indicates whether communication with peer is active or not.">transmitting</a> ) 
        {
            this.<a class="code" href="classprotocol_1_1_remote_peer.html#a379481a2d4787cbb0859df49cab40159" title="The UDP channel.">socket</a>.send( pdu, this.<a class="code" href="classprotocol_1_1_remote_peer.html#ae9d8bdd02d7cd38794bc6e35d10336ce" title="Remote IP address where to send PDUs.">remoteAddr</a>, this.<a class="code" href="classprotocol_1_1_remote_peer.html#aa4caf6ee0a82d5caa0ec7056ca00dca8" title="Remote UDP port where to send PDUs.">remotePort</a> );
        }
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a9cdd69760c674b2c9fc541123cc8e806"></a><!-- doxytag: member="protocol::RemotePeer::startReceiver" ref="a9cdd69760c674b2c9fc541123cc8e806" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">synchronized void protocol.RemotePeer.startReceiver </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This method starts the receiver thread for inbound PDUs. </p>

<p>Definition at line <a class="el" href="_remote_peer_8java_source.html#l00091">91</a> of file <a class="el" href="_remote_peer_8java_source.html">RemotePeer.java</a>.</p>

<p>References <a class="el" href="_remote_peer_8java_source.html#l00025">protocol.RemotePeer.call</a>, <a class="el" href="_remote_peer_8java_source.html#l00046">protocol.RemotePeer.lastReceiverTimestamp</a>, <a class="el" href="_remote_peer_8java_source.html#l00040">protocol.RemotePeer.pduReceiverThread</a>, <a class="el" href="_remote_peer_8java_source.html#l00031">protocol.RemotePeer.remoteAddr</a>, <a class="el" href="_remote_peer_8java_source.html#l00034">protocol.RemotePeer.remotePort</a>, <a class="el" href="_call_context_8java_source.html#l00251">protocol.CallContext.resetClock()</a>, and <a class="el" href="_remote_peer_8java_source.html#l00043">protocol.RemotePeer.transmitting</a>.</p>

<p>Referenced by <a class="el" href="_remote_peer_8java_source.html#l00056">protocol.RemotePeer.RemotePeer()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        this.<a class="code" href="classprotocol_1_1_remote_peer.html#ab2908aa753971ac19a29e46bd058a8d7" title="Indicates whether communication with peer is active or not.">transmitting</a> = <span class="keyword">true</span>;

        this.<a class="code" href="classprotocol_1_1_remote_peer.html#ac7299e70de121316a047039ef301f1ff" title="The time-stamp of the last received PDU.">lastReceiverTimestamp</a> = System.currentTimeMillis ();
            
        this.<a class="code" href="classprotocol_1_1_remote_peer.html#a5824e309a757043e1c744bba0e02864c" title="The receiving process thread.">pduReceiverThread</a> = <span class="keyword">new</span> Thread( <span class="keyword">this</span>, 
                <span class="stringliteral">&quot;Peer-&quot;</span> + <a class="code" href="classprotocol_1_1_remote_peer.html#ae9d8bdd02d7cd38794bc6e35d10336ce" title="Remote IP address where to send PDUs.">remoteAddr</a>.getHostAddress() + <span class="stringliteral">&quot;:&quot;</span> + <a class="code" href="classprotocol_1_1_remote_peer.html#aa4caf6ee0a82d5caa0ec7056ca00dca8" title="Remote UDP port where to send PDUs.">remotePort</a> );
        
        this.<a class="code" href="classprotocol_1_1_remote_peer.html#a5824e309a757043e1c744bba0e02864c" title="The receiving process thread.">pduReceiverThread</a>.setPriority( Thread.MAX_PRIORITY - 1 );
        
        <span class="keywordflow">if</span> ( this.<a class="code" href="classprotocol_1_1_remote_peer.html#aadfabe86946b1739732765e53e478df8" title="The call context.">call</a> != null ) {
            this.<a class="code" href="classprotocol_1_1_remote_peer.html#aadfabe86946b1739732765e53e478df8" title="The call context.">call</a>.resetClock ();
        }
        
        this.<a class="code" href="classprotocol_1_1_remote_peer.html#a5824e309a757043e1c744bba0e02864c" title="The receiving process thread.">pduReceiverThread</a>.start ();
    }
</pre></div>
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="aadfabe86946b1739732765e53e478df8"></a><!-- doxytag: member="protocol::RemotePeer::call" ref="aadfabe86946b1739732765e53e478df8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classprotocol_1_1_call_context.html">CallContext</a> <a class="el" href="classprotocol_1_1_remote_peer.html#aadfabe86946b1739732765e53e478df8">protocol.RemotePeer.call</a> = null<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The call context. </p>

<p>Definition at line <a class="el" href="_remote_peer_8java_source.html#l00025">25</a> of file <a class="el" href="_remote_peer_8java_source.html">RemotePeer.java</a>.</p>

<p>Referenced by <a class="el" href="_remote_peer_8java_source.html#l00228">protocol.RemotePeer.addNewCall()</a>, <a class="el" href="_remote_peer_8java_source.html#l00243">protocol.RemotePeer.cleanUp()</a>, <a class="el" href="_remote_peer_8java_source.html#l00200">protocol.RemotePeer.parsePDU()</a>, <a class="el" href="_remote_peer_8java_source.html#l00056">protocol.RemotePeer.RemotePeer()</a>, <a class="el" href="_remote_peer_8java_source.html#l00142">protocol.RemotePeer.run()</a>, and <a class="el" href="_remote_peer_8java_source.html#l00091">protocol.RemotePeer.startReceiver()</a>.</p>

</div>
</div>
<a class="anchor" id="ab057a678a4a62fd7796f98e54f04114a"></a><!-- doxytag: member="protocol::RemotePeer::inboundPDUs" ref="ab057a678a4a62fd7796f98e54f04114a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Vector&lt;byte[]&gt; <a class="el" href="classprotocol_1_1_remote_peer.html#ab057a678a4a62fd7796f98e54f04114a">protocol.RemotePeer.inboundPDUs</a> = null<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The queue of incoming PDUs from remote peer via our UDP channel. </p>

<p>Definition at line <a class="el" href="_remote_peer_8java_source.html#l00037">37</a> of file <a class="el" href="_remote_peer_8java_source.html">RemotePeer.java</a>.</p>

<p>Referenced by <a class="el" href="_remote_peer_8java_source.html#l00126">protocol.RemotePeer.addIncomingPDU()</a>, <a class="el" href="_remote_peer_8java_source.html#l00056">protocol.RemotePeer.RemotePeer()</a>, and <a class="el" href="_remote_peer_8java_source.html#l00142">protocol.RemotePeer.run()</a>.</p>

</div>
</div>
<a class="anchor" id="ac7299e70de121316a047039ef301f1ff"></a><!-- doxytag: member="protocol::RemotePeer::lastReceiverTimestamp" ref="ac7299e70de121316a047039ef301f1ff" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long <a class="el" href="classprotocol_1_1_remote_peer.html#ac7299e70de121316a047039ef301f1ff">protocol.RemotePeer.lastReceiverTimestamp</a> = 0<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The time-stamp of the last received PDU. </p>

<p>Definition at line <a class="el" href="_remote_peer_8java_source.html#l00046">46</a> of file <a class="el" href="_remote_peer_8java_source.html">RemotePeer.java</a>.</p>

<p>Referenced by <a class="el" href="_remote_peer_8java_source.html#l00126">protocol.RemotePeer.addIncomingPDU()</a>, <a class="el" href="_remote_peer_8java_source.html#l00112">protocol.RemotePeer.receiverIdleTime()</a>, and <a class="el" href="_remote_peer_8java_source.html#l00091">protocol.RemotePeer.startReceiver()</a>.</p>

</div>
</div>
<a class="anchor" id="a5824e309a757043e1c744bba0e02864c"></a><!-- doxytag: member="protocol::RemotePeer::pduReceiverThread" ref="a5824e309a757043e1c744bba0e02864c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Thread <a class="el" href="classprotocol_1_1_remote_peer.html#a5824e309a757043e1c744bba0e02864c">protocol.RemotePeer.pduReceiverThread</a> = null<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The receiving process thread. </p>

<p>Definition at line <a class="el" href="_remote_peer_8java_source.html#l00040">40</a> of file <a class="el" href="_remote_peer_8java_source.html">RemotePeer.java</a>.</p>

<p>Referenced by <a class="el" href="_remote_peer_8java_source.html#l00091">protocol.RemotePeer.startReceiver()</a>.</p>

</div>
</div>
<a class="anchor" id="ae9d8bdd02d7cd38794bc6e35d10336ce"></a><!-- doxytag: member="protocol::RemotePeer::remoteAddr" ref="ae9d8bdd02d7cd38794bc6e35d10336ce" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">InetAddress <a class="el" href="classprotocol_1_1_remote_peer.html#ae9d8bdd02d7cd38794bc6e35d10336ce">protocol.RemotePeer.remoteAddr</a> = null<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Remote IP address where to send PDUs. </p>

<p>Definition at line <a class="el" href="_remote_peer_8java_source.html#l00031">31</a> of file <a class="el" href="_remote_peer_8java_source.html">RemotePeer.java</a>.</p>

<p>Referenced by <a class="el" href="_remote_peer_8java_source.html#l00056">protocol.RemotePeer.RemotePeer()</a>, <a class="el" href="_remote_peer_8java_source.html#l00255">protocol.RemotePeer.send()</a>, and <a class="el" href="_remote_peer_8java_source.html#l00091">protocol.RemotePeer.startReceiver()</a>.</p>

</div>
</div>
<a class="anchor" id="aa4caf6ee0a82d5caa0ec7056ca00dca8"></a><!-- doxytag: member="protocol::RemotePeer::remotePort" ref="aa4caf6ee0a82d5caa0ec7056ca00dca8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classprotocol_1_1_remote_peer.html#aa4caf6ee0a82d5caa0ec7056ca00dca8">protocol.RemotePeer.remotePort</a> = -1<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Remote UDP port where to send PDUs. </p>

<p>Definition at line <a class="el" href="_remote_peer_8java_source.html#l00034">34</a> of file <a class="el" href="_remote_peer_8java_source.html">RemotePeer.java</a>.</p>

<p>Referenced by <a class="el" href="_remote_peer_8java_source.html#l00056">protocol.RemotePeer.RemotePeer()</a>, <a class="el" href="_remote_peer_8java_source.html#l00255">protocol.RemotePeer.send()</a>, and <a class="el" href="_remote_peer_8java_source.html#l00091">protocol.RemotePeer.startReceiver()</a>.</p>

</div>
</div>
<a class="anchor" id="a570e6a49d0a6be1795cb7346ff847417"></a><!-- doxytag: member="protocol::RemotePeer::remoteUserId" ref="a570e6a49d0a6be1795cb7346ff847417" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String <a class="el" href="classprotocol_1_1_remote_peer.html#a570e6a49d0a6be1795cb7346ff847417">protocol.RemotePeer.remoteUserId</a> = null<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>PBXClient's (chat server's) User ID of the remote peer. </p>

<p>Definition at line <a class="el" href="_remote_peer_8java_source.html#l00028">28</a> of file <a class="el" href="_remote_peer_8java_source.html">RemotePeer.java</a>.</p>

<p>Referenced by <a class="el" href="_remote_peer_8java_source.html#l00083">protocol.RemotePeer.getRemoteUserId()</a>, and <a class="el" href="_remote_peer_8java_source.html#l00056">protocol.RemotePeer.RemotePeer()</a>.</p>

</div>
</div>
<a class="anchor" id="a379481a2d4787cbb0859df49cab40159"></a><!-- doxytag: member="protocol::RemotePeer::socket" ref="a379481a2d4787cbb0859df49cab40159" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classprotocol_1_1_datagram_channel.html">DatagramChannel</a> <a class="el" href="classprotocol_1_1_remote_peer.html#a379481a2d4787cbb0859df49cab40159">protocol.RemotePeer.socket</a> = null<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The UDP channel. </p>

<p>Definition at line <a class="el" href="_remote_peer_8java_source.html#l00022">22</a> of file <a class="el" href="_remote_peer_8java_source.html">RemotePeer.java</a>.</p>

<p>Referenced by <a class="el" href="_remote_peer_8java_source.html#l00056">protocol.RemotePeer.RemotePeer()</a>, <a class="el" href="_remote_peer_8java_source.html#l00142">protocol.RemotePeer.run()</a>, and <a class="el" href="_remote_peer_8java_source.html#l00255">protocol.RemotePeer.send()</a>.</p>

</div>
</div>
<a class="anchor" id="ab2908aa753971ac19a29e46bd058a8d7"></a><!-- doxytag: member="protocol::RemotePeer::transmitting" ref="ab2908aa753971ac19a29e46bd058a8d7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile boolean <a class="el" href="classprotocol_1_1_remote_peer.html#ab2908aa753971ac19a29e46bd058a8d7">protocol.RemotePeer.transmitting</a> = false<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Indicates whether communication with peer is active or not. </p>

<p>Definition at line <a class="el" href="_remote_peer_8java_source.html#l00043">43</a> of file <a class="el" href="_remote_peer_8java_source.html">RemotePeer.java</a>.</p>

<p>Referenced by <a class="el" href="_remote_peer_8java_source.html#l00126">protocol.RemotePeer.addIncomingPDU()</a>, <a class="el" href="_remote_peer_8java_source.html#l00243">protocol.RemotePeer.cleanUp()</a>, <a class="el" href="_remote_peer_8java_source.html#l00142">protocol.RemotePeer.run()</a>, <a class="el" href="_remote_peer_8java_source.html#l00255">protocol.RemotePeer.send()</a>, and <a class="el" href="_remote_peer_8java_source.html#l00091">protocol.RemotePeer.startReceiver()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>protocol/<a class="el" href="_remote_peer_8java_source.html">RemotePeer.java</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Thu Dec 16 2010 14:44:44 for VoIP Kryptofon by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.2 </small></address>
</body>
</html>
