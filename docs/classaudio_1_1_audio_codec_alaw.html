<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>VoIP Kryptofon: audio.AudioCodecAlaw Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.2 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="namespaceaudio.html">audio</a>      </li>
      <li><a class="el" href="classaudio_1_1_audio_codec_alaw.html">AudioCodecAlaw</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a>  </div>
  <div class="headertitle">
<h1>audio.AudioCodecAlaw Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="audio::AudioCodecAlaw" --><!-- doxytag: inherits="audio::AbstractCODEC" -->
<p>Converts a 16-bit linear PCM stream from and to 8-bit A-law.  
<a href="#_details">More...</a></p>
<!-- startSectionHeader --><div class="dynheader">
Inheritance diagram for audio.AudioCodecAlaw:<!-- endSectionHeader --></div>
<!-- startSectionSummary --><!-- endSectionSummary --><!-- startSectionContent --><div class="dyncontent">
<div class="center"><img src="classaudio_1_1_audio_codec_alaw__inherit__graph.png" border="0" usemap="#audio_8_audio_codec_alaw_inherit__map" alt="Inheritance graph"/></div>
<map name="audio_8_audio_codec_alaw_inherit__map" id="audio_8_audio_codec_alaw_inherit__map">
<area shape="rect" id="node2" href="classaudio_1_1_abstract_c_o_d_e_c.html" title="Base class for CODECs that can convert to and from PCM." alt="" coords="5,365,176,728"/><area shape="rect" id="node4" href="interfaceaudio_1_1_audio_interface.html" title="The abstract audio interface." alt="" coords="5,6,176,317"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center><!-- endSectionContent --></div>
<!-- startSectionHeader --><div class="dynheader">
Collaboration diagram for audio.AudioCodecAlaw:<!-- endSectionHeader --></div>
<!-- startSectionSummary --><!-- endSectionSummary --><!-- startSectionContent --><div class="dyncontent">
<div class="center"><img src="classaudio_1_1_audio_codec_alaw__coll__graph.png" border="0" usemap="#audio_8_audio_codec_alaw_coll__map" alt="Collaboration graph"/></div>
<map name="audio_8_audio_codec_alaw_coll__map" id="audio_8_audio_codec_alaw_coll__map">
<area shape="rect" id="node2" href="classaudio_1_1_abstract_c_o_d_e_c.html" title="Base class for CODECs that can convert to and from PCM." alt="" coords="95,1645,265,2008"/><area shape="rect" id="node4" href="interfaceaudio_1_1_audio_interface.html" title="The abstract audio interface." alt="" coords="5,6,176,317"/><area shape="rect" id="node6" href="classaudio_1_1_audio_interface_p_c_m.html" title="Implements the audio interface for 16&#45;bit signed linear audio (PCM_SIGNED)." alt="" coords="200,419,445,1579"/><area shape="rect" id="node15" href="classaudio_1_1_audio_buffer.html" title="Encapsulates the concept of an audio buffer with a time&#45;stamp." alt="" coords="592,49,715,273"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center><!-- endSectionContent --></div>

<p><a href="classaudio_1_1_audio_codec_alaw-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio_1_1_audio_codec_alaw.html#a687834f2196ad4c0b297589628982f35">AudioCodecAlaw</a> (<a class="el" href="classaudio_1_1_audio_interface_p_c_m.html">AudioInterfacePCM</a> <a class="el" href="classaudio_1_1_abstract_c_o_d_e_c.html#a2dfd8a04a40a81416a7f2e74c323cd4f">audio</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs A-Law CODEC above existing PCM audio interface.  <a href="#a687834f2196ad4c0b297589628982f35"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio_1_1_audio_codec_alaw.html#aa26db33ece06948661dac2fb18a976a8">getVoicePduSubclass</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the VoicePDU subclass attribute of the AbstractAudio object.  <a href="#aa26db33ece06948661dac2fb18a976a8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio_1_1_audio_codec_alaw.html#ad617c60909bb9f85fac349109e681ec4">getSampleSize</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the minimum sample size for use in creating buffers etc.  <a href="#ad617c60909bb9f85fac349109e681ec4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio_1_1_audio_codec_alaw.html#aecaeaf92330d02e41ccc037d271e687c">convertToPCM</a> (byte[] in, byte[] out)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Encodes data to PCM, i.e.  <a href="#aecaeaf92330d02e41ccc037d271e687c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio_1_1_audio_codec_alaw.html#a792dc403f388f8ea637b85121aa163b6">convertFromPCM</a> (byte[] in, byte[] out)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Decodes data from PCM, i.e.  <a href="#a792dc403f388f8ea637b85121aa163b6"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio_1_1_audio_codec_alaw.html#a709da55eb5426399f8bb2787e40e8958">linear2alaw</a> (short pcm_value)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a 16-bit linear PCM value to 8-bit A-law.  <a href="#a709da55eb5426399f8bb2787e40e8958"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio_1_1_audio_codec_alaw.html#a2acdfa86083737885df59d793626f642">alaw2linear</a> (byte alaw_value)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts an 8-bit A-law value to 16-bit linear PCM.  <a href="#a2acdfa86083737885df59d793626f642"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio_1_1_audio_codec_alaw.html#aa0cc530f839d860ecb6042b06de9df93">sampleSize</a></td></tr>
<tr><td colspan="2"><h2><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static final int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio_1_1_audio_codec_alaw.html#a0c9d52545b698efc6848a7392c222294">SIGN_BIT</a> = 0x80</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static final int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio_1_1_audio_codec_alaw.html#a30370e2a5d0e36c14de5e3ce01b46ebd">QUANT_MASK</a> = 0xf</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static final int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio_1_1_audio_codec_alaw.html#a3378b52a179586d70f49ddec4c60916c">SEG_SHIFT</a> = 4</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static final int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio_1_1_audio_codec_alaw.html#a95f59082f69c3ffd6ca0c74d529e3b49">SEG_MASK</a> = 0x70</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static final int[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio_1_1_audio_codec_alaw.html#a1b9cb0834b711d9e0e2a60e567feaf1f">seg_end</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Converts a 16-bit linear PCM stream from and to 8-bit A-law. </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Mikica B Kocic, based on Sun Microsystem's C source code. </dd></dl>

<p>Definition at line <a class="el" href="_audio_codec_alaw_8java_source.html#l00011">11</a> of file <a class="el" href="_audio_codec_alaw_8java_source.html">AudioCodecAlaw.java</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a687834f2196ad4c0b297589628982f35"></a><!-- doxytag: member="audio::AudioCodecAlaw::AudioCodecAlaw" ref="a687834f2196ad4c0b297589628982f35" args="(AudioInterfacePCM audio)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">audio.AudioCodecAlaw.AudioCodecAlaw </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classaudio_1_1_audio_interface_p_c_m.html">AudioInterfacePCM</a>&#160;</td>
          <td class="paramname"> <em>audio</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructs A-Law CODEC above existing PCM audio interface. </p>

<p>Definition at line <a class="el" href="_audio_codec_alaw_8java_source.html#l00018">18</a> of file <a class="el" href="_audio_codec_alaw_8java_source.html">AudioCodecAlaw.java</a>.</p>

<p>References <a class="el" href="_abstract_c_o_d_e_c_8java_source.html#l00033">audio.AbstractCODEC.audio</a>, <a class="el" href="_audio_interface_p_c_m_8java_source.html#l00206">audio.AudioInterfacePCM.getSampleSize()</a>, <a class="el" href="_abstract_c_o_d_e_c_8java_source.html#l00043">audio.AbstractCODEC.inputPcmBuf</a>, <a class="el" href="_abstract_c_o_d_e_c_8java_source.html#l00038">audio.AbstractCODEC.outputPcmBuf</a>, and <a class="el" href="_audio_codec_alaw_8java_source.html#l00013">audio.AudioCodecAlaw.sampleSize</a>.</p>
<div class="fragment"><pre class="fragment">    {
        this.<a class="code" href="classaudio_1_1_abstract_c_o_d_e_c.html#a2dfd8a04a40a81416a7f2e74c323cd4f" title="Instance of the audio interface that provides access to PCM (signed 16-bit linear) samples...">audio</a> = <a class="code" href="classaudio_1_1_abstract_c_o_d_e_c.html#a2dfd8a04a40a81416a7f2e74c323cd4f" title="Instance of the audio interface that provides access to PCM (signed 16-bit linear) samples...">audio</a>;
        this.<a class="code" href="classaudio_1_1_audio_codec_alaw.html#aa0cc530f839d860ecb6042b06de9df93">sampleSize</a> = this.<a class="code" href="classaudio_1_1_abstract_c_o_d_e_c.html#a2dfd8a04a40a81416a7f2e74c323cd4f" title="Instance of the audio interface that provides access to PCM (signed 16-bit linear) samples...">audio</a>.getSampleSize ();
        this.<a class="code" href="classaudio_1_1_abstract_c_o_d_e_c.html#a04b8c1def046afd9a83d9318439562c9" title="Output PCM buffer (converted from CODEC) written to audio interface.">outputPcmBuf</a> = <span class="keyword">new</span> byte[ this.<a class="code" href="classaudio_1_1_audio_codec_alaw.html#aa0cc530f839d860ecb6042b06de9df93">sampleSize</a> ];
        this.<a class="code" href="classaudio_1_1_abstract_c_o_d_e_c.html#ab29582f7f2d6503d4ad461f817c8aa58" title="Input PCM buffer (converted to CODEC) read from audio interface.">inputPcmBuf</a> = <span class="keyword">new</span> byte[ this.<a class="code" href="classaudio_1_1_audio_codec_alaw.html#aa0cc530f839d860ecb6042b06de9df93">sampleSize</a> ];
    }
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a2acdfa86083737885df59d793626f642"></a><!-- doxytag: member="audio::AudioCodecAlaw::alaw2linear" ref="a2acdfa86083737885df59d793626f642" args="(byte alaw_value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static short audio.AudioCodecAlaw.alaw2linear </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"> <em>alaw_value</em>&#160;)</td>
          <td><code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Converts an 8-bit A-law value to 16-bit linear PCM. </p>

<p>Definition at line <a class="el" href="_audio_codec_alaw_8java_source.html#l00156">156</a> of file <a class="el" href="_audio_codec_alaw_8java_source.html">AudioCodecAlaw.java</a>.</p>

<p>References <a class="el" href="_audio_codec_alaw_8java_source.html#l00095">audio.AudioCodecAlaw.QUANT_MASK</a>, <a class="el" href="_audio_codec_alaw_8java_source.html#l00099">audio.AudioCodecAlaw.SEG_MASK</a>, <a class="el" href="_audio_codec_alaw_8java_source.html#l00098">audio.AudioCodecAlaw.SEG_SHIFT</a>, and <a class="el" href="_audio_codec_alaw_8java_source.html#l00092">audio.AudioCodecAlaw.SIGN_BIT</a>.</p>

<p>Referenced by <a class="el" href="_audio_codec_alaw_8java_source.html#l00045">audio.AudioCodecAlaw.convertToPCM()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        
        <span class="keywordtype">int</span> a_val = ( ( alaw_value + 0x100 ) &amp; 0xFF ) ^ 0x55;
        
        <span class="keywordtype">int</span> t = ( a_val &amp; <a class="code" href="classaudio_1_1_audio_codec_alaw.html#a30370e2a5d0e36c14de5e3ce01b46ebd">QUANT_MASK</a> ) &lt;&lt; 4;
        <span class="keywordtype">int</span> seg = ( a_val &amp; <a class="code" href="classaudio_1_1_audio_codec_alaw.html#a95f59082f69c3ffd6ca0c74d529e3b49">SEG_MASK</a> ) &gt;&gt; <a class="code" href="classaudio_1_1_audio_codec_alaw.html#a3378b52a179586d70f49ddec4c60916c">SEG_SHIFT</a>;
        
        <span class="keywordflow">switch</span> ( seg )
        {
            <span class="keywordflow">case</span> 0:
                t += 8;
                <span class="keywordflow">break</span>;
            <span class="keywordflow">case</span> 1:
                t += 0x108;
                <span class="keywordflow">break</span>;
            <span class="keywordflow">default</span>:
                t += 0x108;
                t &lt;&lt;= seg - 1;
            }

        <span class="keywordflow">return</span> (<span class="keywordtype">short</span>)( ( a_val &amp; <a class="code" href="classaudio_1_1_audio_codec_alaw.html#a0c9d52545b698efc6848a7392c222294">SIGN_BIT</a> ) != 0 ? t : -t );        
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a792dc403f388f8ea637b85121aa163b6"></a><!-- doxytag: member="audio::AudioCodecAlaw::convertFromPCM" ref="a792dc403f388f8ea637b85121aa163b6" args="(byte[] in, byte[] out)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void audio.AudioCodecAlaw.convertFromPCM </td>
          <td>(</td>
          <td class="paramtype">byte[]&#160;</td>
          <td class="paramname"> <em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte[]&#160;</td>
          <td class="paramname"> <em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Decodes data from PCM, i.e. </p>
<p>converts samples from CODEC to A-Law format. </p>

<p>Implements <a class="el" href="classaudio_1_1_abstract_c_o_d_e_c.html#a47cab30dab1c65e5397827b62688b068">audio.AbstractCODEC</a>.</p>

<p>Definition at line <a class="el" href="_audio_codec_alaw_8java_source.html#l00058">58</a> of file <a class="el" href="_audio_codec_alaw_8java_source.html">AudioCodecAlaw.java</a>.</p>

<p>References <a class="el" href="_octet_buffer_8java_source.html#l00112">utils.OctetBuffer.getShort()</a>, <a class="el" href="_audio_codec_alaw_8java_source.html#l00109">audio.AudioCodecAlaw.linear2alaw()</a>, and <a class="el" href="_octet_buffer_8java_source.html#l00039">utils.OctetBuffer.wrap()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        OctetBuffer bb = OctetBuffer.wrap( in );

        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; in.length / 2; ++i )
        {
            out[i] = <a class="code" href="classaudio_1_1_audio_codec_alaw.html#a709da55eb5426399f8bb2787e40e8958" title="Converts a 16-bit linear PCM value to 8-bit A-law.">linear2alaw</a>( bb.getShort () );
        }
    }
</pre></div>
</div>
</div>
<a class="anchor" id="aecaeaf92330d02e41ccc037d271e687c"></a><!-- doxytag: member="audio::AudioCodecAlaw::convertToPCM" ref="aecaeaf92330d02e41ccc037d271e687c" args="(byte[] in, byte[] out)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void audio.AudioCodecAlaw.convertToPCM </td>
          <td>(</td>
          <td class="paramtype">byte[]&#160;</td>
          <td class="paramname"> <em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte[]&#160;</td>
          <td class="paramname"> <em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Encodes data to PCM, i.e. </p>
<p>converts samples from A-Law to CODEC format. </p>

<p>Implements <a class="el" href="classaudio_1_1_abstract_c_o_d_e_c.html#afb5e371b9ee432ebcff7b5ced6d1f8fe">audio.AbstractCODEC</a>.</p>

<p>Definition at line <a class="el" href="_audio_codec_alaw_8java_source.html#l00045">45</a> of file <a class="el" href="_audio_codec_alaw_8java_source.html">AudioCodecAlaw.java</a>.</p>

<p>References <a class="el" href="_audio_codec_alaw_8java_source.html#l00156">audio.AudioCodecAlaw.alaw2linear()</a>, <a class="el" href="_octet_buffer_8java_source.html#l00139">utils.OctetBuffer.putShort()</a>, and <a class="el" href="_octet_buffer_8java_source.html#l00039">utils.OctetBuffer.wrap()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        OctetBuffer bb = OctetBuffer.wrap( out );

        <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0; i &lt; in.length; ++i ) 
        {
            bb.putShort( <a class="code" href="classaudio_1_1_audio_codec_alaw.html#a2acdfa86083737885df59d793626f642" title="Converts an 8-bit A-law value to 16-bit linear PCM.">alaw2linear</a>( in[i] ) );
        }
    }
</pre></div>
</div>
</div>
<a class="anchor" id="ad617c60909bb9f85fac349109e681ec4"></a><!-- doxytag: member="audio::AudioCodecAlaw::getSampleSize" ref="ad617c60909bb9f85fac349109e681ec4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int audio.AudioCodecAlaw.getSampleSize </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the minimum sample size for use in creating buffers etc. </p>

<p>Implements <a class="el" href="interfaceaudio_1_1_audio_interface.html#ab2ef7eaccbfb29fe20ca27d5f2bcf6f8">audio.AudioInterface</a>.</p>

<p>Definition at line <a class="el" href="_audio_codec_alaw_8java_source.html#l00037">37</a> of file <a class="el" href="_audio_codec_alaw_8java_source.html">AudioCodecAlaw.java</a>.</p>
<div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">return</span> 160;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="aa26db33ece06948661dac2fb18a976a8"></a><!-- doxytag: member="audio::AudioCodecAlaw::getVoicePduSubclass" ref="aa26db33ece06948661dac2fb18a976a8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int audio.AudioCodecAlaw.getVoicePduSubclass </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the VoicePDU subclass attribute of the AbstractAudio object. </p>

<p>Implements <a class="el" href="classaudio_1_1_abstract_c_o_d_e_c.html#af02a38aa9b1981a5d1c114ab08dec32d">audio.AbstractCODEC</a>.</p>

<p>Definition at line <a class="el" href="_audio_codec_alaw_8java_source.html#l00029">29</a> of file <a class="el" href="_audio_codec_alaw_8java_source.html">AudioCodecAlaw.java</a>.</p>
<div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">return</span> protocol.VoicePDU.ALAW;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a709da55eb5426399f8bb2787e40e8958"></a><!-- doxytag: member="audio::AudioCodecAlaw::linear2alaw" ref="a709da55eb5426399f8bb2787e40e8958" args="(short pcm_value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static byte audio.AudioCodecAlaw.linear2alaw </td>
          <td>(</td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"> <em>pcm_value</em>&#160;)</td>
          <td><code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Converts a 16-bit linear PCM value to 8-bit A-law. </p>

<p>Definition at line <a class="el" href="_audio_codec_alaw_8java_source.html#l00109">109</a> of file <a class="el" href="_audio_codec_alaw_8java_source.html">AudioCodecAlaw.java</a>.</p>

<p>References <a class="el" href="_audio_codec_alaw_8java_source.html#l00095">audio.AudioCodecAlaw.QUANT_MASK</a>, <a class="el" href="_audio_codec_alaw_8java_source.html#l00102">audio.AudioCodecAlaw.seg_end</a>, and <a class="el" href="_audio_codec_alaw_8java_source.html#l00098">audio.AudioCodecAlaw.SEG_SHIFT</a>.</p>

<p>Referenced by <a class="el" href="_audio_codec_alaw_8java_source.html#l00058">audio.AudioCodecAlaw.convertFromPCM()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        
        <span class="keywordtype">int</span> pcm = pcm_value &gt;&gt; 3;

        <span class="keywordtype">int</span> mask;
        <span class="keywordflow">if</span> ( pcm &gt;= 0 )
        {
            mask = 0xD5; <span class="comment">// sign (7th) bit = 1 </span>
            }
        <span class="keywordflow">else</span> 
        {
            mask = 0x55; <span class="comment">// sign bit = 0 </span>
            pcm = -pcm - 1;
            }

        <span class="comment">/* Convert the scaled magnitude to segment number. </span>
<span class="comment">         */</span>
        <span class="keywordtype">int</span> seg = 8;
        
        <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0; i &lt; 8; ++i ) {
            <span class="keywordflow">if</span> ( pcm &lt;= <a class="code" href="classaudio_1_1_audio_codec_alaw.html#a1b9cb0834b711d9e0e2a60e567feaf1f">seg_end</a>[i] ) {
                seg = i;
                <span class="keywordflow">break</span>;
            }
        }

        <span class="comment">/* Combine the sign, segment, and quantization bits. </span>
<span class="comment">         */</span>
        <span class="keywordflow">if</span> ( seg &gt;= 8 ) { <span class="comment">// out of range, return maximum value. </span>
            <span class="keywordflow">return</span> (byte)( (  0x7F ^ mask ) &amp; 0xFF - 0x100 );
        }

        <span class="keywordtype">int</span> aval = ( seg &lt;&lt; <a class="code" href="classaudio_1_1_audio_codec_alaw.html#a3378b52a179586d70f49ddec4c60916c">SEG_SHIFT</a> ) &amp; 0xFF;
        
        <span class="keywordflow">if</span> ( seg &lt; 2 ) {
            aval |= (pcm &gt;&gt; 1) &amp; <a class="code" href="classaudio_1_1_audio_codec_alaw.html#a30370e2a5d0e36c14de5e3ce01b46ebd">QUANT_MASK</a>;
        } <span class="keywordflow">else</span> {
            aval |= (pcm &gt;&gt; seg) &amp; <a class="code" href="classaudio_1_1_audio_codec_alaw.html#a30370e2a5d0e36c14de5e3ce01b46ebd">QUANT_MASK</a>;
        }
        
        <span class="keywordflow">return</span> (byte)( ( aval ^ mask ) &amp; 0xFF - 0x100 );
    }
</pre></div>
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a30370e2a5d0e36c14de5e3ce01b46ebd"></a><!-- doxytag: member="audio::AudioCodecAlaw::QUANT_MASK" ref="a30370e2a5d0e36c14de5e3ce01b46ebd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">final int <a class="el" href="classaudio_1_1_audio_codec_alaw.html#a30370e2a5d0e36c14de5e3ce01b46ebd">audio.AudioCodecAlaw.QUANT_MASK</a> = 0xf<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_audio_codec_alaw_8java_source.html#l00095">95</a> of file <a class="el" href="_audio_codec_alaw_8java_source.html">AudioCodecAlaw.java</a>.</p>

<p>Referenced by <a class="el" href="_audio_codec_alaw_8java_source.html#l00156">audio.AudioCodecAlaw.alaw2linear()</a>, and <a class="el" href="_audio_codec_alaw_8java_source.html#l00109">audio.AudioCodecAlaw.linear2alaw()</a>.</p>

</div>
</div>
<a class="anchor" id="aa0cc530f839d860ecb6042b06de9df93"></a><!-- doxytag: member="audio::AudioCodecAlaw::sampleSize" ref="aa0cc530f839d860ecb6042b06de9df93" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classaudio_1_1_audio_codec_alaw.html#aa0cc530f839d860ecb6042b06de9df93">audio.AudioCodecAlaw.sampleSize</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_audio_codec_alaw_8java_source.html#l00013">13</a> of file <a class="el" href="_audio_codec_alaw_8java_source.html">AudioCodecAlaw.java</a>.</p>

<p>Referenced by <a class="el" href="_audio_codec_alaw_8java_source.html#l00018">audio.AudioCodecAlaw.AudioCodecAlaw()</a>.</p>

</div>
</div>
<a class="anchor" id="a1b9cb0834b711d9e0e2a60e567feaf1f"></a><!-- doxytag: member="audio::AudioCodecAlaw::seg_end" ref="a1b9cb0834b711d9e0e2a60e567feaf1f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">final int [] <a class="el" href="classaudio_1_1_audio_codec_alaw.html#a1b9cb0834b711d9e0e2a60e567feaf1f">audio.AudioCodecAlaw.seg_end</a><code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
            0x1F, 0x3F, 0x7F, 0xFF, 0x1FF, 0x3FF, 0x7FF, 0xFFF
            }
</pre></div>
<p>Definition at line <a class="el" href="_audio_codec_alaw_8java_source.html#l00102">102</a> of file <a class="el" href="_audio_codec_alaw_8java_source.html">AudioCodecAlaw.java</a>.</p>

<p>Referenced by <a class="el" href="_audio_codec_alaw_8java_source.html#l00109">audio.AudioCodecAlaw.linear2alaw()</a>.</p>

</div>
</div>
<a class="anchor" id="a95f59082f69c3ffd6ca0c74d529e3b49"></a><!-- doxytag: member="audio::AudioCodecAlaw::SEG_MASK" ref="a95f59082f69c3ffd6ca0c74d529e3b49" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">final int <a class="el" href="classaudio_1_1_audio_codec_alaw.html#a95f59082f69c3ffd6ca0c74d529e3b49">audio.AudioCodecAlaw.SEG_MASK</a> = 0x70<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_audio_codec_alaw_8java_source.html#l00099">99</a> of file <a class="el" href="_audio_codec_alaw_8java_source.html">AudioCodecAlaw.java</a>.</p>

<p>Referenced by <a class="el" href="_audio_codec_alaw_8java_source.html#l00156">audio.AudioCodecAlaw.alaw2linear()</a>.</p>

</div>
</div>
<a class="anchor" id="a3378b52a179586d70f49ddec4c60916c"></a><!-- doxytag: member="audio::AudioCodecAlaw::SEG_SHIFT" ref="a3378b52a179586d70f49ddec4c60916c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">final int <a class="el" href="classaudio_1_1_audio_codec_alaw.html#a3378b52a179586d70f49ddec4c60916c">audio.AudioCodecAlaw.SEG_SHIFT</a> = 4<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_audio_codec_alaw_8java_source.html#l00098">98</a> of file <a class="el" href="_audio_codec_alaw_8java_source.html">AudioCodecAlaw.java</a>.</p>

<p>Referenced by <a class="el" href="_audio_codec_alaw_8java_source.html#l00156">audio.AudioCodecAlaw.alaw2linear()</a>, and <a class="el" href="_audio_codec_alaw_8java_source.html#l00109">audio.AudioCodecAlaw.linear2alaw()</a>.</p>

</div>
</div>
<a class="anchor" id="a0c9d52545b698efc6848a7392c222294"></a><!-- doxytag: member="audio::AudioCodecAlaw::SIGN_BIT" ref="a0c9d52545b698efc6848a7392c222294" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">final int <a class="el" href="classaudio_1_1_audio_codec_alaw.html#a0c9d52545b698efc6848a7392c222294">audio.AudioCodecAlaw.SIGN_BIT</a> = 0x80<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_audio_codec_alaw_8java_source.html#l00092">92</a> of file <a class="el" href="_audio_codec_alaw_8java_source.html">AudioCodecAlaw.java</a>.</p>

<p>Referenced by <a class="el" href="_audio_codec_alaw_8java_source.html#l00156">audio.AudioCodecAlaw.alaw2linear()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>audio/<a class="el" href="_audio_codec_alaw_8java_source.html">AudioCodecAlaw.java</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Thu Dec 16 2010 14:44:43 for VoIP Kryptofon by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.2 </small></address>
</body>
</html>
