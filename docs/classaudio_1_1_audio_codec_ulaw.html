<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>VoIP Kryptofon: audio.AudioCodecUlaw Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.2 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="namespaceaudio.html">audio</a>      </li>
      <li><a class="el" href="classaudio_1_1_audio_codec_ulaw.html">AudioCodecUlaw</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a>  </div>
  <div class="headertitle">
<h1>audio.AudioCodecUlaw Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="audio::AudioCodecUlaw" --><!-- doxytag: inherits="audio::AbstractCODEC" -->
<p>Converts a 16-bit linear PCM stream from and to 8-bit u-law.  
<a href="#_details">More...</a></p>
<!-- startSectionHeader --><div class="dynheader">
Inheritance diagram for audio.AudioCodecUlaw:<!-- endSectionHeader --></div>
<!-- startSectionSummary --><!-- endSectionSummary --><!-- startSectionContent --><div class="dyncontent">
<div class="center"><img src="classaudio_1_1_audio_codec_ulaw__inherit__graph.png" border="0" usemap="#audio_8_audio_codec_ulaw_inherit__map" alt="Inheritance graph"/></div>
<map name="audio_8_audio_codec_ulaw_inherit__map" id="audio_8_audio_codec_ulaw_inherit__map">
<area shape="rect" id="node2" href="classaudio_1_1_abstract_c_o_d_e_c.html" title="Base class for CODECs that can convert to and from PCM." alt="" coords="5,365,176,728"/><area shape="rect" id="node4" href="interfaceaudio_1_1_audio_interface.html" title="The abstract audio interface." alt="" coords="5,6,176,317"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center><!-- endSectionContent --></div>
<!-- startSectionHeader --><div class="dynheader">
Collaboration diagram for audio.AudioCodecUlaw:<!-- endSectionHeader --></div>
<!-- startSectionSummary --><!-- endSectionSummary --><!-- startSectionContent --><div class="dyncontent">
<div class="center"><img src="classaudio_1_1_audio_codec_ulaw__coll__graph.png" border="0" usemap="#audio_8_audio_codec_ulaw_coll__map" alt="Collaboration graph"/></div>
<map name="audio_8_audio_codec_ulaw_coll__map" id="audio_8_audio_codec_ulaw_coll__map">
<area shape="rect" id="node2" href="classaudio_1_1_abstract_c_o_d_e_c.html" title="Base class for CODECs that can convert to and from PCM." alt="" coords="95,1645,265,2008"/><area shape="rect" id="node4" href="interfaceaudio_1_1_audio_interface.html" title="The abstract audio interface." alt="" coords="5,6,176,317"/><area shape="rect" id="node6" href="classaudio_1_1_audio_interface_p_c_m.html" title="Implements the audio interface for 16&#45;bit signed linear audio (PCM_SIGNED)." alt="" coords="200,419,445,1579"/><area shape="rect" id="node15" href="classaudio_1_1_audio_buffer.html" title="Encapsulates the concept of an audio buffer with a time&#45;stamp." alt="" coords="592,49,715,273"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center><!-- endSectionContent --></div>

<p><a href="classaudio_1_1_audio_codec_ulaw-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio_1_1_audio_codec_ulaw.html#a651ea0a9607a026d9f1e08d450bcf664">AudioCodecUlaw</a> (<a class="el" href="classaudio_1_1_audio_interface_p_c_m.html">AudioInterfacePCM</a> <a class="el" href="classaudio_1_1_abstract_c_o_d_e_c.html#a2dfd8a04a40a81416a7f2e74c323cd4f">audio</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs A-Law CODEC above existing PCM audio interface.  <a href="#a651ea0a9607a026d9f1e08d450bcf664"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio_1_1_audio_codec_ulaw.html#a16d73109b91c6de6fca86c2f68148490">getVoicePduSubclass</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the VoicePDU subclass attribute of the AbstractAudio object.  <a href="#a16d73109b91c6de6fca86c2f68148490"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio_1_1_audio_codec_ulaw.html#ad3fd2b15ee9b8848acb5344203394629">getSampleSize</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the minimum sample size for use in creating buffers etc.  <a href="#ad3fd2b15ee9b8848acb5344203394629"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio_1_1_audio_codec_ulaw.html#a5a37510bf81d63b186fee7d11d467dca">convertToPCM</a> (byte[] in, byte[] out)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Encodes data to PCM, i.e.  <a href="#a5a37510bf81d63b186fee7d11d467dca"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio_1_1_audio_codec_ulaw.html#a8e6fded05441542abe71c7f8d99009b1">convertFromPCM</a> (byte[] in, byte[] out)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Decodes data from PCM, i.e.  <a href="#a8e6fded05441542abe71c7f8d99009b1"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio_1_1_audio_codec_ulaw.html#a452d62e462c0316fe7d6119df05aac06">linear2ulaw</a> (int sample)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a linear signed 16bit sample to a uLaw byte.  <a href="#a452d62e462c0316fe7d6119df05aac06"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio_1_1_audio_codec_ulaw.html#a280f7ac486de8e27f709f61184e1b125">ulaw2linear</a> (byte ulawbyte)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts an 8-bit u-law value to 16-bit linear PCM.  <a href="#a280f7ac486de8e27f709f61184e1b125"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio_1_1_audio_codec_ulaw.html#a162f816ca9f9ea8b7c51c5f3df46686a">sampleSize</a></td></tr>
<tr><td colspan="2"><h2><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static final boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio_1_1_audio_codec_ulaw.html#a00a5658d5419c2beb9c94d925cfeef5a">ZEROTRAP</a> = true</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static final short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio_1_1_audio_codec_ulaw.html#abcb207e10528017571589e731b23d7a6">BIAS</a> = 0x84</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static final int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio_1_1_audio_codec_ulaw.html#a44facac68b48ed49206a6ae83cce7b80">CLIP</a> = 32635</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static final int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio_1_1_audio_codec_ulaw.html#a753dff1584184f425578cacbdfcef1f5">exp_lut1</a> []</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static short[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio_1_1_audio_codec_ulaw.html#accefece1047280f406e0b549aefd2082">ulaw2lin_table</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Converts a 16-bit linear PCM stream from and to 8-bit u-law. </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Mikica B Kocic, based on Craig Reese's and Joe Campbell's C source code. </dd></dl>

<p>Definition at line <a class="el" href="_audio_codec_ulaw_8java_source.html#l00011">11</a> of file <a class="el" href="_audio_codec_ulaw_8java_source.html">AudioCodecUlaw.java</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a651ea0a9607a026d9f1e08d450bcf664"></a><!-- doxytag: member="audio::AudioCodecUlaw::AudioCodecUlaw" ref="a651ea0a9607a026d9f1e08d450bcf664" args="(AudioInterfacePCM audio)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">audio.AudioCodecUlaw.AudioCodecUlaw </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classaudio_1_1_audio_interface_p_c_m.html">AudioInterfacePCM</a>&#160;</td>
          <td class="paramname"> <em>audio</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructs A-Law CODEC above existing PCM audio interface. </p>

<p>Definition at line <a class="el" href="_audio_codec_ulaw_8java_source.html#l00018">18</a> of file <a class="el" href="_audio_codec_ulaw_8java_source.html">AudioCodecUlaw.java</a>.</p>

<p>References <a class="el" href="_abstract_c_o_d_e_c_8java_source.html#l00033">audio.AbstractCODEC.audio</a>, <a class="el" href="_audio_interface_p_c_m_8java_source.html#l00206">audio.AudioInterfacePCM.getSampleSize()</a>, <a class="el" href="_abstract_c_o_d_e_c_8java_source.html#l00043">audio.AbstractCODEC.inputPcmBuf</a>, <a class="el" href="_abstract_c_o_d_e_c_8java_source.html#l00038">audio.AbstractCODEC.outputPcmBuf</a>, and <a class="el" href="_audio_codec_ulaw_8java_source.html#l00013">audio.AudioCodecUlaw.sampleSize</a>.</p>
<div class="fragment"><pre class="fragment">    {
        this.<a class="code" href="classaudio_1_1_abstract_c_o_d_e_c.html#a2dfd8a04a40a81416a7f2e74c323cd4f" title="Instance of the audio interface that provides access to PCM (signed 16-bit linear) samples...">audio</a> = <a class="code" href="classaudio_1_1_abstract_c_o_d_e_c.html#a2dfd8a04a40a81416a7f2e74c323cd4f" title="Instance of the audio interface that provides access to PCM (signed 16-bit linear) samples...">audio</a>;
        this.<a class="code" href="classaudio_1_1_audio_codec_ulaw.html#a162f816ca9f9ea8b7c51c5f3df46686a">sampleSize</a> = this.<a class="code" href="classaudio_1_1_abstract_c_o_d_e_c.html#a2dfd8a04a40a81416a7f2e74c323cd4f" title="Instance of the audio interface that provides access to PCM (signed 16-bit linear) samples...">audio</a>.getSampleSize ();
        this.<a class="code" href="classaudio_1_1_abstract_c_o_d_e_c.html#a04b8c1def046afd9a83d9318439562c9" title="Output PCM buffer (converted from CODEC) written to audio interface.">outputPcmBuf</a> = <span class="keyword">new</span> byte[ this.<a class="code" href="classaudio_1_1_audio_codec_ulaw.html#a162f816ca9f9ea8b7c51c5f3df46686a">sampleSize</a> ];
        this.<a class="code" href="classaudio_1_1_abstract_c_o_d_e_c.html#ab29582f7f2d6503d4ad461f817c8aa58" title="Input PCM buffer (converted to CODEC) read from audio interface.">inputPcmBuf</a> = <span class="keyword">new</span> byte[ this.<a class="code" href="classaudio_1_1_audio_codec_ulaw.html#a162f816ca9f9ea8b7c51c5f3df46686a">sampleSize</a> ];
    }
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a8e6fded05441542abe71c7f8d99009b1"></a><!-- doxytag: member="audio::AudioCodecUlaw::convertFromPCM" ref="a8e6fded05441542abe71c7f8d99009b1" args="(byte[] in, byte[] out)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void audio.AudioCodecUlaw.convertFromPCM </td>
          <td>(</td>
          <td class="paramtype">byte[]&#160;</td>
          <td class="paramname"> <em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte[]&#160;</td>
          <td class="paramname"> <em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Decodes data from PCM, i.e. </p>
<p>converts samples from u-Law to PCM format. </p>

<p>Implements <a class="el" href="classaudio_1_1_abstract_c_o_d_e_c.html#a47cab30dab1c65e5397827b62688b068">audio.AbstractCODEC</a>.</p>

<p>Definition at line <a class="el" href="_audio_codec_ulaw_8java_source.html#l00056">56</a> of file <a class="el" href="_audio_codec_ulaw_8java_source.html">AudioCodecUlaw.java</a>.</p>

<p>References <a class="el" href="_octet_buffer_8java_source.html#l00112">utils.OctetBuffer.getShort()</a>, <a class="el" href="_audio_codec_ulaw_8java_source.html#l00109">audio.AudioCodecUlaw.linear2ulaw()</a>, and <a class="el" href="_octet_buffer_8java_source.html#l00039">utils.OctetBuffer.wrap()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        OctetBuffer bb = OctetBuffer.wrap(in);
        <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0; i &lt; out.length; ++i )
        {
            out[i] = <a class="code" href="classaudio_1_1_audio_codec_ulaw.html#a452d62e462c0316fe7d6119df05aac06" title="Converts a linear signed 16bit sample to a uLaw byte.">linear2ulaw</a>( bb.getShort () );
        }
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a5a37510bf81d63b186fee7d11d467dca"></a><!-- doxytag: member="audio::AudioCodecUlaw::convertToPCM" ref="a5a37510bf81d63b186fee7d11d467dca" args="(byte[] in, byte[] out)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void audio.AudioCodecUlaw.convertToPCM </td>
          <td>(</td>
          <td class="paramtype">byte[]&#160;</td>
          <td class="paramname"> <em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte[]&#160;</td>
          <td class="paramname"> <em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Encodes data to PCM, i.e. </p>
<p>converts samples from u-Law to CODEC format. </p>

<p>Implements <a class="el" href="classaudio_1_1_abstract_c_o_d_e_c.html#afb5e371b9ee432ebcff7b5ced6d1f8fe">audio.AbstractCODEC</a>.</p>

<p>Definition at line <a class="el" href="_audio_codec_ulaw_8java_source.html#l00045">45</a> of file <a class="el" href="_audio_codec_ulaw_8java_source.html">AudioCodecUlaw.java</a>.</p>

<p>References <a class="el" href="_octet_buffer_8java_source.html#l00139">utils.OctetBuffer.putShort()</a>, <a class="el" href="_audio_codec_ulaw_8java_source.html#l00186">audio.AudioCodecUlaw.ulaw2linear()</a>, and <a class="el" href="_octet_buffer_8java_source.html#l00039">utils.OctetBuffer.wrap()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        OctetBuffer bb = OctetBuffer.wrap(out);
        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; in.length; i++) {
          bb.putShort( <a class="code" href="classaudio_1_1_audio_codec_ulaw.html#a280f7ac486de8e27f709f61184e1b125" title="Converts an 8-bit u-law value to 16-bit linear PCM.">ulaw2linear</a>( in[i] ) );
        }
    }
</pre></div>
</div>
</div>
<a class="anchor" id="ad3fd2b15ee9b8848acb5344203394629"></a><!-- doxytag: member="audio::AudioCodecUlaw::getSampleSize" ref="ad3fd2b15ee9b8848acb5344203394629" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int audio.AudioCodecUlaw.getSampleSize </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the minimum sample size for use in creating buffers etc. </p>

<p>Implements <a class="el" href="interfaceaudio_1_1_audio_interface.html#ab2ef7eaccbfb29fe20ca27d5f2bcf6f8">audio.AudioInterface</a>.</p>

<p>Definition at line <a class="el" href="_audio_codec_ulaw_8java_source.html#l00037">37</a> of file <a class="el" href="_audio_codec_ulaw_8java_source.html">AudioCodecUlaw.java</a>.</p>
<div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">return</span> 160;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a16d73109b91c6de6fca86c2f68148490"></a><!-- doxytag: member="audio::AudioCodecUlaw::getVoicePduSubclass" ref="a16d73109b91c6de6fca86c2f68148490" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int audio.AudioCodecUlaw.getVoicePduSubclass </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the VoicePDU subclass attribute of the AbstractAudio object. </p>

<p>Implements <a class="el" href="classaudio_1_1_abstract_c_o_d_e_c.html#af02a38aa9b1981a5d1c114ab08dec32d">audio.AbstractCODEC</a>.</p>

<p>Definition at line <a class="el" href="_audio_codec_ulaw_8java_source.html#l00029">29</a> of file <a class="el" href="_audio_codec_ulaw_8java_source.html">AudioCodecUlaw.java</a>.</p>
<div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">return</span> protocol.VoicePDU.ULAW;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a452d62e462c0316fe7d6119df05aac06"></a><!-- doxytag: member="audio::AudioCodecUlaw::linear2ulaw" ref="a452d62e462c0316fe7d6119df05aac06" args="(int sample)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static byte audio.AudioCodecUlaw.linear2ulaw </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"> <em>sample</em>&#160;)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Converts a linear signed 16bit sample to a uLaw byte. </p>

<p>Definition at line <a class="el" href="_audio_codec_ulaw_8java_source.html#l00109">109</a> of file <a class="el" href="_audio_codec_ulaw_8java_source.html">AudioCodecUlaw.java</a>.</p>

<p>References <a class="el" href="_audio_codec_ulaw_8java_source.html#l00083">audio.AudioCodecUlaw.BIAS</a>, <a class="el" href="_audio_codec_ulaw_8java_source.html#l00084">audio.AudioCodecUlaw.CLIP</a>, <a class="el" href="_audio_codec_ulaw_8java_source.html#l00086">audio.AudioCodecUlaw.exp_lut1</a>, and <a class="el" href="_audio_codec_ulaw_8java_source.html#l00082">audio.AudioCodecUlaw.ZEROTRAP</a>.</p>

<p>Referenced by <a class="el" href="_audio_codec_ulaw_8java_source.html#l00056">audio.AudioCodecUlaw.convertFromPCM()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        <span class="keywordtype">int</span> sign, exponent, mantissa, ulawbyte;

        <span class="keywordflow">if</span> ( sample &gt; 32767 ) {
            sample = 32767;
        }
        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( sample &lt; -32768 ) {
            sample = -32768;
            <span class="comment">/* Get the sample into sign-magnitude. */</span>
        }
        
        sign = (sample &gt;&gt; 8) &amp; 0x80; <span class="comment">/* set aside the sign */</span>
        <span class="keywordflow">if</span> ( sign != 0 ) {
            sample = -sample; <span class="comment">/* get magnitude */</span>
        }
        
        <span class="keywordflow">if</span> ( sample &gt; <a class="code" href="classaudio_1_1_audio_codec_ulaw.html#a44facac68b48ed49206a6ae83cce7b80">CLIP</a> ) {
            sample = <a class="code" href="classaudio_1_1_audio_codec_ulaw.html#a44facac68b48ed49206a6ae83cce7b80">CLIP</a>; <span class="comment">/* clip the magnitude */</span>
            <span class="comment">/* Convert from 16 bit linear to ulaw. */</span>
        }
        
        sample = sample + <a class="code" href="classaudio_1_1_audio_codec_ulaw.html#abcb207e10528017571589e731b23d7a6">BIAS</a>;
        exponent = <a class="code" href="classaudio_1_1_audio_codec_ulaw.html#a753dff1584184f425578cacbdfcef1f5">exp_lut1</a>[ (sample &gt;&gt; 7) &amp; 0xFF];
        mantissa = (sample &gt;&gt; (exponent + 3)) &amp; 0x0F;
        ulawbyte = ~ (sign | (exponent &lt;&lt; 4) | mantissa);
        
        <span class="keywordflow">if</span> ( <a class="code" href="classaudio_1_1_audio_codec_ulaw.html#a00a5658d5419c2beb9c94d925cfeef5a">ZEROTRAP</a> ) {
            <span class="keywordflow">if</span> ( ulawbyte == 0 ) {
                ulawbyte = 0x02; <span class="comment">/* optional CCITT trap */</span>
            }
        }
        
        <span class="keywordflow">return</span> (byte) ulawbyte;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a280f7ac486de8e27f709f61184e1b125"></a><!-- doxytag: member="audio::AudioCodecUlaw::ulaw2linear" ref="a280f7ac486de8e27f709f61184e1b125" args="(byte ulawbyte)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static short audio.AudioCodecUlaw.ulaw2linear </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"> <em>ulawbyte</em>&#160;)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Converts an 8-bit u-law value to 16-bit linear PCM. </p>

<p>Definition at line <a class="el" href="_audio_codec_ulaw_8java_source.html#l00186">186</a> of file <a class="el" href="_audio_codec_ulaw_8java_source.html">AudioCodecUlaw.java</a>.</p>

<p>References <a class="el" href="_audio_codec_ulaw_8java_source.html#l00147">audio.AudioCodecUlaw.ulaw2lin_table</a>.</p>

<p>Referenced by <a class="el" href="_audio_codec_ulaw_8java_source.html#l00045">audio.AudioCodecUlaw.convertToPCM()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">return</span> <a class="code" href="classaudio_1_1_audio_codec_ulaw.html#accefece1047280f406e0b549aefd2082">ulaw2lin_table</a>[ ulawbyte &amp; 0xFF ];
    }
</pre></div>
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="abcb207e10528017571589e731b23d7a6"></a><!-- doxytag: member="audio::AudioCodecUlaw::BIAS" ref="abcb207e10528017571589e731b23d7a6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">final short <a class="el" href="classaudio_1_1_audio_codec_ulaw.html#abcb207e10528017571589e731b23d7a6">audio.AudioCodecUlaw.BIAS</a> = 0x84<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_audio_codec_ulaw_8java_source.html#l00083">83</a> of file <a class="el" href="_audio_codec_ulaw_8java_source.html">AudioCodecUlaw.java</a>.</p>

<p>Referenced by <a class="el" href="_audio_codec_ulaw_8java_source.html#l00109">audio.AudioCodecUlaw.linear2ulaw()</a>.</p>

</div>
</div>
<a class="anchor" id="a44facac68b48ed49206a6ae83cce7b80"></a><!-- doxytag: member="audio::AudioCodecUlaw::CLIP" ref="a44facac68b48ed49206a6ae83cce7b80" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">final int <a class="el" href="classaudio_1_1_audio_codec_ulaw.html#a44facac68b48ed49206a6ae83cce7b80">audio.AudioCodecUlaw.CLIP</a> = 32635<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_audio_codec_ulaw_8java_source.html#l00084">84</a> of file <a class="el" href="_audio_codec_ulaw_8java_source.html">AudioCodecUlaw.java</a>.</p>

<p>Referenced by <a class="el" href="_audio_codec_ulaw_8java_source.html#l00109">audio.AudioCodecUlaw.linear2ulaw()</a>.</p>

</div>
</div>
<a class="anchor" id="a753dff1584184f425578cacbdfcef1f5"></a><!-- doxytag: member="audio::AudioCodecUlaw::exp_lut1" ref="a753dff1584184f425578cacbdfcef1f5" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">final int <a class="el" href="classaudio_1_1_audio_codec_ulaw.html#a753dff1584184f425578cacbdfcef1f5">audio.AudioCodecUlaw.exp_lut1</a>[]<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> 
    {
        0, 0, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3,
        4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,
        5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
        5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
        6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6,
        6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6,
        6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6,
        6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6,
        7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7,
        7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7,
        7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7,
        7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7,
        7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7,
        7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7,
        7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7,
        7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7
    }
</pre></div>
<p>Definition at line <a class="el" href="_audio_codec_ulaw_8java_source.html#l00086">86</a> of file <a class="el" href="_audio_codec_ulaw_8java_source.html">AudioCodecUlaw.java</a>.</p>

<p>Referenced by <a class="el" href="_audio_codec_ulaw_8java_source.html#l00109">audio.AudioCodecUlaw.linear2ulaw()</a>.</p>

</div>
</div>
<a class="anchor" id="a162f816ca9f9ea8b7c51c5f3df46686a"></a><!-- doxytag: member="audio::AudioCodecUlaw::sampleSize" ref="a162f816ca9f9ea8b7c51c5f3df46686a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classaudio_1_1_audio_codec_ulaw.html#a162f816ca9f9ea8b7c51c5f3df46686a">audio.AudioCodecUlaw.sampleSize</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_audio_codec_ulaw_8java_source.html#l00013">13</a> of file <a class="el" href="_audio_codec_ulaw_8java_source.html">AudioCodecUlaw.java</a>.</p>

<p>Referenced by <a class="el" href="_audio_codec_ulaw_8java_source.html#l00018">audio.AudioCodecUlaw.AudioCodecUlaw()</a>.</p>

</div>
</div>
<a class="anchor" id="accefece1047280f406e0b549aefd2082"></a><!-- doxytag: member="audio::AudioCodecUlaw::ulaw2lin_table" ref="accefece1047280f406e0b549aefd2082" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">short [] <a class="el" href="classaudio_1_1_audio_codec_ulaw.html#accefece1047280f406e0b549aefd2082">audio.AudioCodecUlaw.ulaw2lin_table</a><code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_audio_codec_ulaw_8java_source.html#l00147">147</a> of file <a class="el" href="_audio_codec_ulaw_8java_source.html">AudioCodecUlaw.java</a>.</p>

<p>Referenced by <a class="el" href="_audio_codec_ulaw_8java_source.html#l00186">audio.AudioCodecUlaw.ulaw2linear()</a>.</p>

</div>
</div>
<a class="anchor" id="a00a5658d5419c2beb9c94d925cfeef5a"></a><!-- doxytag: member="audio::AudioCodecUlaw::ZEROTRAP" ref="a00a5658d5419c2beb9c94d925cfeef5a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">final boolean <a class="el" href="classaudio_1_1_audio_codec_ulaw.html#a00a5658d5419c2beb9c94d925cfeef5a">audio.AudioCodecUlaw.ZEROTRAP</a> = true<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_audio_codec_ulaw_8java_source.html#l00082">82</a> of file <a class="el" href="_audio_codec_ulaw_8java_source.html">AudioCodecUlaw.java</a>.</p>

<p>Referenced by <a class="el" href="_audio_codec_ulaw_8java_source.html#l00109">audio.AudioCodecUlaw.linear2ulaw()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>audio/<a class="el" href="_audio_codec_ulaw_8java_source.html">AudioCodecUlaw.java</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Thu Dec 16 2010 14:44:43 for VoIP Kryptofon by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.2 </small></address>
</body>
</html>
